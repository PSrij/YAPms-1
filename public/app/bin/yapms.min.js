class Account{static register(){const e=new FormData,a=document.getElementById("email-input").value;e.append("email",a),fetch("./api/users/register.php",{method:"POST",body:e,credentials:"include"}).then(e=>e.text()).then(e=>{console.log("Register: "+e);e=e.split(" ");document.getElementById("register-info");closeAllPopups(),"good"===e[0]?displayNotification("Account Registered","Please check your email, and click the verification link. (check your spam)"):"inuse"===e[1]?displayNotification("Register Error","Account Already Registered"):"inactive"===e[1]?displayNotification("Register Error","Verification Email Already Sent (check your spam)"):"resent"===e[1]?displayNotification("Account Registered","Please check your email, and click the verification link. (check your spam)"):"invalid_email"===e[1]&&displayNotification("Register Error",a+" is not a valid email")}).catch(e=>{console.log(e);const a=document.getElementById("register-info");a.innerHTML="Connection Error"})}static login(){const e=new FormData;var a=document.getElementById("email-login").value,t=document.getElementById("password-login").value;e.append("email",a),e.append("password",t),fetch("./api/users/login.php",{method:"POST",body:e,credentials:"include"}).then(e=>e.text()).then(e=>{console.log("Login: "+e);var e=e.split(" "),a=(Account.verifyState(),document.getElementById("password-login").value="",document.getElementById("login-info"));"good"===e[0]?(a.innerHTML="Please enter your credentials",closeAllPopups()):"bad"===e[0]&&("account_innactive"===e[1]?a.innerHTML="Inactive Account":"incorrect_login"===e[1]&&(a.innerHTML="Incorrect Login"))}).catch(e=>{console.log(e);const a=document.getElementById("login-info");a.innerHTML="Connection Error"})}static verifyState(){const e=new FormData;e.append("email",Account.email),fetch("./api/users/verify_login.php",{method:"POST",body:e,credentials:"include"}).then(e=>e.text()).then(e=>{console.log("Verify Login: "+e);e=e.split(" ");Account.isLoggedIn="good"===e[0],Account.isLoggedIn?(Account.email=e[1],Account.id=e[2]):(Account.id=null,Account.email=null),Account.updateHTML()}).catch(e=>{console.log(e),console.log("Account: Could not login")})}static logout(){closeAllPopups(),fetch("./api/users/logout.php",{method:"POST",credentials:"include"}).then(e=>e.text()).then(e=>{console.log("Logout: "+e),Account.verifyState()}).catch(e=>{console.log(e)})}static unlink(e){var a=new FormData;a.append("mapName",e),fetch("./api/users_maps/unlink.php",{method:"POST",body:a,credentials:"include"}).then(e=>e.text()).then(e=>{gtag("event",currentCache,{event_category:"Account",event_label:"Map Deleted From Account"})}).catch(e=>{console.log(e)})}static save(e){var a,t=new FormData,n=document.getElementById("mysaves-current-mappreview"),d=(n&&t.append("img",n.src),e?t.append("mapName",e):(n=document.getElementById("mysaves-name-input"))&&(t.append("mapName",n.value),n.value=""),document.getElementById("mysaves-current-error")),r=(d&&(d.style.display="none"),{});for(i in r.filename=MapLoader.save_filename,r.dataid=MapLoader.save_dataid,r.type=MapLoader.save_type,r.year=MapLoader.save_year,r.fontsize=MapLoader.save_fontsize,r.strokewidth=MapLoader.save_strokewidth,r.candidates={},r.states={},r.proportional={},CandidateManager.candidates)"Tossup"!==i&&(a=CandidateManager.candidates[i],r.candidates[a.name]={},r.candidates[a.name]=a.colors);for(var o=0;o<states.length;++o){for(i in(s=states[o]).delegates)0===s.delegates[i]&&delete s.delegates[i];r.states[s.name]={},r.states[s.name].delegates=s.delegates,r.states[s.name].simulator=s.simulator,r.states[s.name].colorvalue=s.colorValue,r.states[s.name].disabled=s.disabled}for(var s,i,o=0;o<proportionalStates.length;++o){for(i in(s=proportionalStates[o]).delegates)0===s.delegates[i]&&delete s.delegates[i];r.proportional[s.name]={},r.proportional[s.name].delegates=s.delegates,r.proportional[s.name].simulator=s.simulator,r.proportional[s.name].colorvalue=s.colorValue,r.proportional[s.name].disabled=s.disabled}t.append("data",JSON.stringify(r)),fetch("./api/users_maps/upload.php",{method:"POST",body:t,credentials:"include"}).then(e=>e.text()).then(e=>{var e=e.split(" ");"bad"===e[0]?(d.style.display="inline","no_map_name"===e[1]?d.innerHTML="Enter Map Name":"file_limit"===e[1]?d.innerHTML="File Limit Reached":d.innerHTML="Upload Error"):(e=e[1],Account.addMapBox(e,!0),gtag("event",currentCache,{event_category:"Account",event_label:"Map Saved To Account"}))}).catch(e=>{console.log(e)})}static changePassword(){const e=new FormData;var a=document.getElementById("password-reset-1").value,t=document.getElementById("password-reset-2").value,n=document.getElementById("password-reset-3").value;e.append("current",a),e.append("new",t),e.append("verify",n),fetch("./api/users/change_password.php",{method:"POST",body:e,credentials:"include"}).then(e=>e.text()).then(e=>{console.log("Change Password: "+e);e=e.split(" ");const a=document.getElementById("passwordchange-info");if("good"===e[0])closeAllPopups(),displayNotification("Password Change","Your password has been changed"),a.innerHTML="Please enter current and new password",document.getElementById("password-reset-1").value="",document.getElementById("password-reset-2").value="",document.getElementById("password-reset-3").value="";else if("bad"===e[0])switch(e[1]){case"verify_incorrect":a.innerHTML="Passwords do not match";break;case"incorrect_pass":a.innerHTML="Current password incorrect";break;case"no_post":a.innerHTML="Missing information"}}).catch(e=>{console.log(e)})}static forgotPassword(){const e=new FormData,a=document.getElementById("email-forgot-input").value;e.append("email",a),fetch("./api/users/forgot_password.php",{method:"POST",body:e,credentials:"include"}).then(e=>e.text()).then(e=>{console.log("Forgot Password: "+e);e=e.split(" ");if(closeAllPopups(),"good"===e[0])"reset_sent"===e[1]&&displayNotification("Password Reset","Password reset email sent. (check your spam)");else if("bad"===e[0])switch(e[1]){case"innactive_account":displayNotification("Password Reset Error",a+" is not active. Please register or verify.");break;case"recent_verification":displayNotification("Password Reset Error","Password was recently reset, please wait.");break;case"please_register":displayNotification("Password Reset Error",a+" is not registered. Please register.")}}).catch(e=>{console.log(e)})}static addMapBox(e,c){var a,t,n,d,u,r,g,o,s,i=e,e=atob(e),l=document.getElementById("mappreview-"+i);l?l.src="https://yapms.org/users/"+Account.id+"/"+i+".png#"+(new Date).getTime():((l=document.createElement("div")).className="mysaves-mapbox",l.id="mapbox-"+i,(a=document.createElement("div")).className="mysaves-mapbox-header",(o=document.createElement("div")).className="mysaves-mapbox-toolbar",(s=document.createElement("img")).className="toolbar-button toolbar-button-red",s.src="./html/deletebutton.svg",s.setAttribute("title","Delete Map"),s.onclick=(t=i,n=l,d=document.getElementById("mysaves-maps"),function(){Account.unlink(t),d&&n&&d.removeChild(n)}),o.appendChild(s),(s=document.createElement("a")).setAttribute("class","toolbar-button toolbar-button-blue"),s.setAttribute("href","./api/users_maps/download.php?u="+Account.id+"&m="+i),s.setAttribute("title","Download"),(r=document.createElement("img")).src="./html/downloadbutton.svg",r.setAttribute("class","toolbar-button-download"),s.appendChild(r),o.appendChild(s),(r=document.createElement("img")).setAttribute("class","toolbar-button toolbar-button-green"),r.src="./html/overwritebutton.svg",r.setAttribute("title","Overwrite"),r.onclick=(u=e,function(){Account.save(u)}),o.appendChild(r),a.appendChild(o),(s=document.createElement("div")).className="mysaves-mapname",s.innerHTML=e,a.appendChild(s),l.appendChild(a),(r=document.createElement("img")).className="mysaves-mappreview",r.id="mappreview-"+i,r.src="https://"+window.location.hostname+"/app/www-data/users/"+Account.id+"/"+i+".png#"+(new Date).getTime(),r.alt="No Preview",r.onclick=(g="./?u="+Account.id+"&m="+i,function(){window.location.href=g}),l.appendChild(r),(o=document.createElement("div")).className="mysaves-url",e=document.createTextNode("https://"+window.location.hostname+"/app/?u="+Account.id+"&m="+i),o.appendChild(e),l.appendChild(o),s=document.getElementById("mysaves-maps"),c?s.insertBefore(l,s.firstChild):s.appendChild(l))}static closeMyMaps(){document.getElementById("application-mysaves").style.display="none";for(var e=document.getElementById("mysaves-maps");e.firstChild;)e.removeChild(e.firstChild)}static getMaps(){for(var e=document.getElementById("mysaves-maps");e.firstChild;)e.removeChild(e.firstChild);var a=document.getElementById("mysaves-current-map"),a=(a&&(a.style.display="none"),document.getElementById("mysaves-current-error")),a=(a&&(a.style.display="none"),document.getElementById("application-mysaves")),a=(a&&(a.style.display="inline-flex"),document.getElementById("application"));domtoimage.toPng(a,{width:a.offsetWidth,height:a.offsetHeight}).then(function(e){const a=document.getElementById("mysaves-current-mappreview"),t=(a.src=e,a.style.width="40vw",a.style.height="auto",document.getElementById("mysaves-current-map"));t.style.display="inline-flex"}).catch(function(e){console.log("dom-to-image: ",e)}),fetch("https://"+window.location.hostname+"/app/api/users_maps/get_maps.php",{method:"POST",credentials:"include"}).then(e=>e.text()).then(a=>{a=a.split(" ");for(let e=0;e<a.length;++e){const n=a[e].split("/");console.log(n);var t=n[5].split(".")[0];Account.addMapBox(t,!1)}}).catch(e=>{console.log(e)})}static updateHTML(){const e=document.getElementById("login-button"),a=document.getElementById("account-button"),t=document.getElementById("mymaps-button"),n=document.getElementById("account-email");Account.isLoggedIn?(e.style.display="none",a.style.display="",t.style.display="",n.innerHTML=Account.email):(e.style.display="",a.style.display="none",t.style.display="none")}}Account.email=null,Account.id=null,Account.isLoggedIn=!1,document.getElementById("login-form").onsubmit=function(e){e.preventDefault(),Account.login()};class Candidate{constructor(e,a){this.name=e,this.colors=a,this.voteCount=0,this.probVoteCounts=[0,0,0,0],a[0]===a[1]&&a[0]===a[2]&&a[0]===a[3]?this.singleColor=!0:this.singleColor=!1}}class CandidateManager{static initCandidates(){CandidateManager.candidates=[],CandidateManager.candidates.Tossup=CandidateManager.TOSSUP}static deleteCandidate(){closeAllPopups();for(var e=document.getElementById("candidate-originalName").value,a=0;a<states.length;++a){var t=states[a];t.candidate===e&&t.setColor("Tossup",0),t.delegates[e]=void 0}delete CandidateManager.candidates[e],LegendManager.generateLegend(),countVotes(),LegendManager.updateLegend(),ChartManager.updateChart()}static setCandidate(){closeAllPopups();var a=document.getElementById("candidate-originalName").value,t=document.getElementById("candidate-name").value;const n=CandidateManager.candidates[a],e=[];for(const d of document.getElementById("editcandidate-colors").children)e.push(d.value);t!==a&&(Object.defineProperty(CandidateManager.candidates,t,Object.getOwnPropertyDescriptor(CandidateManager.candidates,a)),delete CandidateManager.candidates[a]),n.name=t,n.colors=e;for(let e=0;e<states.length;++e){const r=states[e];r.candidate===t?r.setColor(t,r.colorValue,{setDelegates:!1}):r.candidate===a&&(r.setColor(t,r.colorValue,{setDelegates:!1}),r.delegates[t]=r.delegates[a],r.delegates[a]=void 0),r.colorValue>=n.colors.length&&(r.candidate===t||r.candidate===a)&&r.setColor(t,0,{setDelegates:!1})}countVotes(),LegendManager.generateLegend(),LegendManager.updateLegend(),ChartManager.updateChart()}static addCandidate3(){var e=document.getElementById("name").value;const a=[];for(const n of document.getElementById("addcandidate-colors").children)a.push(n.value);var t=new Candidate(e,a);CandidateManager.candidates[e]=t,verifyPaintIndex(),LegendManager.generateLegend(),ChartManager.updateChart(),LegendManager.updateLegend()}static addCandidate2(e,a){var t;""!==(e=void 0===e?null!==(t=document.getElementById("name"))?t.value:"Error":e).trim()&&(t=new Candidate(e,a),CandidateManager.candidates[e]=t,verifyPaintIndex(),LegendManager.generateLegend(),ChartManager.updateChart(),LegendManager.updateLegend())}static addCandidate(e,a,t,n,d){var r;""!==(e=void 0===e?null!==(r=document.getElementById("name"))?r.value:"Error":e).trim()&&(void 0===a&&(a=null!==(r=document.getElementById("solid"))?r.value:"#000000"),void 0===t&&(t=null!==(r=document.getElementById("likely"))?r.value:"#000000"),void 0===n&&(n=null!==(r=document.getElementById("leaning"))?r.value:"#000000"),void 0===d&&(d=null!==(r=document.getElementById("tilting"))?r.value:"#000000"),r=new Candidate(e,[a,t,n,d]),CandidateManager.candidates[e]=r,verifyPaintIndex(),LegendManager.generateLegend(),ChartManager.updateChart(),LegendManager.updateLegend())}static saveCustomColors(){var a=document.getElementById("custom-color-name").value,t=document.getElementById("customcolor-colors");for(let e=0;e<t.children.length;e+=1){var n=t.children[e];CookieManager.appendCookie(a+"-"+e,n.value)}}static setColors(a){document.getElementById("solid"),document.getElementById("likely"),document.getElementById("leaning"),document.getElementById("tilting");let t=null;switch(a){case"red":t=["#bf1d29","#ff5865","#ff8b98","#cf8980"];break;case"blue":t=["#1c408c","#577ccc","#8aafff","#949bb3"];break;case"green":t=["#1c8c28","#50c85e","#8aff97","#7a997e"];break;case"yellow":t=["#e6b700","#e8c84d","#ffe78a","#b8a252"];break;case"blue-light":t=["#5555ff","#8080ff","#aaaaff","#d5d5ff"];break;case"red-light":t=["#ff5555","#ff8080","#ffaaaa","#ffd5d5"];break;case"blue-dark":t=["#302e80","#444cc5","#817ffb","#cdd3f7"];break;case"red-dark":t=["#80302e","#cb4b40","#fb817f","#f5c8c4"];break;case"purple":t=["#822194","#ae20c6","#db14ff","#a369ae"];break;case"blue1-interpolation":t=["#0d0596","#2b26a5","#4948b4","#6769c3","#858ad2","#a3abe1","#c1cdf0","#dfeeff"];break;case"blue2-interpolation":t=["#002b84","#234a99","#466aad","#6a89c2","#8da8d6","#b0c8eb","#d3e7ff"];break;case"red1-interpolation":t=["#a80000","#b42021","#c14043","#cd6064","#da8086","#e6a0a7","#f3c0c9","#ffe0ea"];break;case"red2-interpolation":t=["#800000","#952223","#aa4445","#c06668","#d5888b","#eaaaad","#ffccd0"];break;case"democratic1-wiki":t=["#0d0596","#3933e5","#584cde","#6674de","#7996e2","#a5b0ff","#bdd3ff","#dfeeff"];break;case"democratic2-wiki":t=["#002b84","#0645b4","#1666cb","#4389e3","#86b6f2","#b9d7ff","#d3e7ff"];break;case"republican1-wiki":t=["#a80000","#c21b18","#d72f30","#d75d5d","#e27f7f","#ffb2b2","#ffc8cd","#ffe0ea"];break;case"republican2-wiki":t=["#800000","#aa0000","#d40000","#cc2f4a","#e27f90","#f2b3be","#ffccd0"];break;case"dixiecrat-wiki":t=["#aa4400","#d45500","#ff6600","#ff7f2a","#ff9955","#ffb380","#ffccaa"];break;case"unpledged-wiki":t=["#be9600","#daae00","#f4c200","#ffdc43","#ffe680","#ffeeaa"];break;default:t=[];let e=0;for(;CookieManager.cookies[a+"-"+e];)t.push(CookieManager.cookies[a+"-"+e]),e+=1}const e=document.getElementById("addcandidate-colors");for(;e.firstChild;)e.removeChild(e.firstChild);for(const n of t){const d=document.createElement("input");d.classList.add("addcandidate-color"),d.value=n,d.type="color",e.appendChild(d)}}}CandidateManager.candidates=[],CandidateManager.tossupColor=2,CandidateManager.TOSSUP=new Candidate("Tossup",["#000000","#ffffff","#696969","#000000"]);class ChartManager{static initChart(){Chart.register(ChartDataLabels),Chart.defaults.font.color="#ffffff",ChartManager.chartOptions={indexAxis:"y",plugins:{datalabels:{display:function(e){return 0!==e.dataset.data[e.dataIndex]},backgroundColor:"white",borderColor:"black",color:"black",font:{family:"Roboto",size:15,weight:600}},legend:{display:!1},tooltip:{enabled:!1}}},ChartManager.chartBarScales={x:{stacked:!0,grid:{display:!1,drawBorder:!1},ticks:{color:"#fff",font:{family:"Roboto",size:13}}},y:{stacked:!0,grid:{display:!1,drawBorder:!1},ticks:{color:"#fff",font:{family:"Roboto",size:13}}}},ChartManager.chartPieScales={grid:{display:!1}},ChartManager.chartOptions.scales=ChartManager.chartPieScales;const e=document.getElementById("chart-canvas").getContext("2d");e.height=200,ChartManager.chart=new Chart(e,{type:"doughnut",data:{labels:[],datasets:[{label:"",backgroundColor:"#ffffff",borderColor:"#ffffff",borderWidth:0,data:[]},{label:"",backgroundColor:"#ffffff",borderColor:"#ffffff",borderWidth:0,data:[]},{},{}]},options:ChartManager.chartOptions,maintainAspectRatio:!0}),ChartManager.chartType="doughnut"}static setChart(e,a){console.log("Chart Manager: "+e);var t,n,d=document.getElementById("chart-div"),r=document.getElementById("chart"),o=document.getElementById("chart-canvas"),s=o.getContext("2d"),i=document.getElementById("battlechart");if(r.style.display="inline-block",i.style.display="none",d.style.display="flex",d.style.width="28vw","none"===e)return o.style.display="none",unsetBattleHorizontal(),d.style.display="none",ChartManager.chartType=e,void MapManager.centerMap();if("horizontalbattle"===e||"verticalbattle"===e){if(3<Object.keys(CandidateManager.candidates).length)return void displayNotification("Sorry","This chart requires that there be two candidates");if("horizontalbattle"===e){setBattleHorizontal();let e=document.getElementById("logo-div");e.style.width="15%",e.style.height="100%",d.style.borderRight="0px",d.style.borderTop="1px solid black",(e=document.getElementById("yapms-watermark")).style.width="15%",e.style.height="100%"}else if("verticalbattle"===e){unsetBattleHorizontal(),d.style.width="20vw";let e=document.getElementById("logo-div");e.style.width="100%",e.style.height="15%",d.style.borderTop="0px",d.style.borderRight="1px solid black",(e=document.getElementById("yapms-watermark")).style.width="100%",e.style.height="15%"}return o.style.display="none",r.style.display="none",i.style.display="flex",ChartManager.chartType=e,ChartManager.updateChart(),void MapManager.centerMap()}if(unsetBattleHorizontal(),"bottom"===(ChartManager.chartPosition=a)?(document.getElementById("application").style.flexDirection="column-reverse",document.getElementById("map-div").style.height="80%",d.style.flexDirection="row",d.style.width="100%",d.style.height="20%",d.style.borderRight="0px",d.style.borderTop="1px solid black",(t=document.getElementById("chart")).style.height="auto",t.style.width=d.offsetHeight-5+"px",(n=document.getElementById("logo-div")).style.width="15%",n.style.height="100%",(n=document.getElementById("yapms-watermark")).style.width="15%",n.style.height="100%"):(document.getElementById("application").style.flexDirection="row",document.getElementById("map-div").style.height="100%",d.style.flexDirection="column",d.style.width="28vw",d.style.height="100%",d.style.borderTop="0px",d.style.borderRight="1px solid black",(t=document.getElementById("chart")).style.width="100%",(n=document.getElementById("logo-div")).style.width="100%",n.style.height="15%",(n=document.getElementById("yapms-watermark")).style.width="100%",n.style.height="15%"),MapManager.centerMap(),ChartManager.chartType=e,ChartManager.chartData={labels:[],datasets:[{borderColor:ChartManager.chartBorderColor,borderWidth:ChartManager.chartBorderWidth,data:[]}]},o.style.display="inline-block","horizontalBar"===e){ChartManager.chartOptions.scales=ChartManager.chartBarScales,delete ChartManager.chartOptions.scale;for(let e=0;e<3;++e)ChartManager.chartData.datasets.push({borderColor:ChartManager.chartBorderColor,borderWidth:ChartManager.chartBorderWidth,data:[]})}else"pie"!==e&&"doughnut"!==e||(ChartManager.chartOptions.scales=ChartManager.chartPieScales,delete ChartManager.chartOptions.scale);ChartManager.chart.destroy(),ChartManager.chart=new Chart(s,{type:"horizontalBar"===e?"bar":e,data:ChartManager.chartData,options:ChartManager.chartOptions}),ChartManager.updateChart()}static rebuildChart(){const e=document.getElementById("chart-canvas");var a=e.getContext("2d");if(ChartManager.chart.destroy(),ChartManager.chart=new Chart(a,{type:ChartManager.chart.config.type,data:ChartManager.chartData,options:ChartManager.chartOptions}),"battle"===ChartManager.chartType){const t=document.getElementById("chart");t.style.display="none"}ChartManager.updateChart()}static updateChart(){"verticalbattle"!==ChartManager.chartType&&"horizontalbattle"!==ChartManager.chartType?("horizontalBar"===ChartManager.chartType?ChartManager.updateBarChart():ChartManager.updateNonRadarChart(),ChartManager.chart.config.data=ChartManager.chartData,ChartManager.chart.update()):ChartManager.updateBattleChart()}static updateBarChart(){for(var e in ChartManager.chartData.labels=[],ChartManager.chartData.datasets=[],CandidateManager.candidates)ChartManager.chartData.labels.push(e);if(ChartManager.chartLeans){let a=0;for(const o in CandidateManager.candidates){var t=CandidateManager.candidates[o];t.colors.length>a&&(a=t.colors.length)}for(const s in CandidateManager.candidates){var n=CandidateManager.candidates[s];for(let e=0;e<a;++e){void 0===ChartManager.chartData.datasets[e]&&(ChartManager.chartData.datasets.push({}),ChartManager.chartData.datasets[e].data=[],ChartManager.chartData.datasets[e].backgroundColor=[]);var d=n.probVoteCounts[e],d=(ChartManager.chartData.datasets[e].data.push(d),n.colors[e]);ChartManager.chartData.datasets[e].backgroundColor.push(d)}}}else for(const i in CandidateManager.candidates){var a=CandidateManager.candidates[i],r=a.voteCount;void 0===ChartManager.chartData.datasets[0]&&(ChartManager.chartData.datasets[0]={},ChartManager.chartData.datasets[0].data=[],ChartManager.chartData.datasets[0].backgroundColor=[]),ChartManager.chartData.datasets[0].data.push(r),"Tossup"===i?(r=a.colors[2],ChartManager.chartData.datasets[0].backgroundColor.push(r)):(r=a.colors[0],ChartManager.chartData.datasets[0].backgroundColor.push(r))}}static updateNonRadarChart(){ChartManager.chartData.labels=[],ChartManager.chartData.datasets[0].data=[],ChartManager.chartData.datasets[0].backgroundColor=[],ChartManager.chartData.datasets[0].borderColor=ChartManager.chartBorderColor,ChartManager.chartData.datasets[0].borderWidth=ChartManager.chartBorderWidth;let t=-1;for(const s in CandidateManager.candidates){++t;var n=CandidateManager.candidates[s],d=n.name,e=n.voteCount;let a=n.colors[0];if(0==t)a=CandidateManager.candidates.Tossup.colors[CandidateManager.tossupColor],ChartManager.chartData.labels[0]="Tossup",ChartManager.chartData.datasets[0].data.push(e),ChartManager.chartData.datasets[0].backgroundColor.push(a);else if(ChartManager.chartLeans)for(let e=0;e<n.colors.length;++e){var r=n.probVoteCounts[e],o=(a=n.colors[e],e+8*t-7);ChartManager.chartData.labels[o]=d,ChartManager.chartData.datasets[0].data.push(r),ChartManager.chartData.datasets[0].backgroundColor.push(a)}else{e=n.voteCount;a=n.colors[0],ChartManager.chartData.labels[t]=d,ChartManager.chartData.datasets[0].data.push(e),ChartManager.chartData.datasets[0].backgroundColor.push(a)}}}static updateBattleChart(){if(3<Object.keys(CandidateManager.candidates).length)mobile?ChartManager.setChart("pie","bottom"):ChartManager.setChart("pie");else{let a=-1;for(const e in CandidateManager.candidates){a+=1;const t=CandidateManager.candidates[e];if("Tossup"!==e){const n=document.getElementById("bar-"+a),d=(n.style.flexBasis=t.voteCount/totalVotes*100+"%",[]);for(const r of n.children)parseInt(r.id.split("-")[1])>=t.colors.length&&d.push(r);for(const o of d)n.removeChild(o);if(ChartManager.chartLeans)for(const s in t.colors){let e=document.getElementById(a+"-"+s);if(null===e)switch((e=document.createElement("div")).classList.add("bar-part"),e.id=a+"-"+s,a){case 1:n.appendChild(e);break;case 2:n.insertBefore(e,n.firstChild)}e.style.flexBasis=(t.probVoteCounts[s]||0)/t.voteCount*100+"%",e.style.background=t.colors[s],ChartManager.chartLabels?e.innerHTML="<p>"+(t.probVoteCounts[s]||0)+"</p>":e.innerHTML="<p></p>"}else for(const i in t.colors){const l=document.getElementById(a+"-"+i);l&&("0"===i?(l.style.flexBasis="100%",l.style.background=t.colors[0],ChartManager.chartLabels?l.innerHTML="<p>"+t.probVoteCounts.reduce((e,a)=>e+a,0)+"</p>":l.innerHTML="<p></p>"):(l.style.flexBasis="0%",l.style.background=t.colors[0],l.innerHTML="<p></p>"))}}else{const c=document.getElementById("bar-0");c.style.background=t.colors[2],c.style.flexBasis=t.voteCount/totalVotes*100+"%",ChartManager.chartLabels?c.innerHTML="<p>"+t.voteCount+"</p>":c.innerHTML="<p></p>"}}}}static toggleChartLabels(){ChartManager.chartLabels=!ChartManager.chartLabels,0!=ChartManager.chartOptions.plugins.datalabels.display?ChartManager.chartOptions.plugins.datalabels.display=!1:ChartManager.chartOptions.plugins.datalabels.display=function(e){return 0!==e.dataset.data[e.dataIndex]},ChartManager.rebuildChart()}static toggleChartLeans(){ChartManager.chartLeans=!ChartManager.chartLeans,ChartManager.rebuildChart(),ChartManager.updateBattleChart()}}ChartManager.chart=null,ChartManager.chartBorderWidth=2,ChartManager.chartBorderColor="#000000",ChartManager.chartData={labels:[],datasets:[{label:"",backgroundColor:[],borderColor:ChartManager.chartBorderColor,borderWidth:ChartManager.chartBorderWidth,data:[]},{},{},{}]},ChartManager.chartOptions=null,ChartManager.chartType=null,ChartManager.chartPosition=null,ChartManager.chartPieScales=null,ChartManager.chartBarScales=null,ChartManager.chartLeans=!0,ChartManager.chartLabels=!0;class CookieManager{static appendCookie(e,a){var t,n;!1!==CookieManager.consent?(CookieManager.cookies[e]=a,n="",t=new Date(Date.now()+3024e7).toString(),n=e+"="+CookieManager.cookies[e]+"; expires="+t+";",document.cookie=n,console.log("Append cookie: key="+e+" value="+a)):console.log("Cookie Manager: no consent")}static loadCookies(){CookieManager.cookies.theme="default";const e=decodeURIComponent(document.cookie),a=e.split("; ");for(var t in a){var t=a[t].split("="),n=t[0],t=t[1];CookieManager.cookies[n]=t}}static loadCustomColors(){for(let n=1;n<=10;n+=1){let t=document.getElementById("custom"+n+"button");if(CookieManager.cookies["custom"+n+"-0"]){let e="linear-gradient(to right,",a=0;for(;CookieManager.cookies["custom"+n+"-"+a];)e+=" "+CookieManager.cookies["custom"+n+"-"+a]+",",a+=1;e=e.slice(0,-1),e+=")",t.style.background="green",t.style.background=e}else t.style.background="#000000"}}static askConsent(){return"false"===CookieManager.cookies.consent?(CookieManager.consent=!1,void CookieManager.consentDenied()):(CookieManager.cookies.consent,CookieManager.consent=!0,void CookieManager.consentGiven())}static consentDenied(e){document.getElementById("consent").style.display="none",CookieManager.consent=!0,CookieManager.appendCookie("consent",!1),CookieManager.consent=!1,e&&location.reload()}static consentGiven(){document.getElementById("consent").style.display="none",CookieManager.consent=!0,CookieManager.appendCookie("consent",!0)}}CookieManager.cookies={},CookieManager.consent=!1;class KeyboardManager{static quickFill(){return!0===KeyboardManager.keyStates[70]}static areaSelect(){return!0===KeyboardManager.keyStates[68]}static ctrlPressed(){return!0===KeyboardManager.keyStates[17]}}KeyboardManager.keyStates={},document.addEventListener("keydown",function(e){KeyboardManager.keyStates[e.which]=!0}),document.addEventListener("keyup",function(e){KeyboardManager.keyStates[e.which]=!1}),document.addEventListener("mouseleave",function(e){KeyboardManager.keyStates={}}),document.addEventListener("mouseenter",function(e){KeyboardManager.keyStates={}});class LegendManager{static toggleLegendCounter(){LegendManager.legendCounter=!LegendManager.legendCounter,LegendManager.updateLegend()}static toggleLegendLeans(){LegendManager.legendLeans=!LegendManager.legendLeans,LegendManager.generateLegend(),LegendManager.updateLegend()}static selectCandidateDisplay(e){for(const a of e.parentElement.children){const t=a.childNodes[0];t.style.padding="4px"}e.childNodes[0].style.padding="7px"}static updateLegend(){for(var e in CandidateManager.candidates){var a=CandidateManager.candidates[e],t=document.getElementById(a.name+"-text"),n=a.name;1==LegendManager.legendCounter&&(n+=" "+a.voteCount),null!==t&&(t.innerHTML=n,e===paintIndex&&LegendManager.selectCandidateDisplay(t.parentElement))}}static generateLegend(){console.log("Generating Legend...");const e=document.getElementById("legend-div");e.innerHTML="";let c=-1;for(const d in CandidateManager.candidates){const r=CandidateManager.candidates[d],a=(++c,document.createElement("div")),t=(a.setAttribute("id",r.name),a.setAttribute("class","legend-button"),a.addEventListener("click",function(){const e=d;return function(){legendClick(e,this)}}()),a.style.background="none",e.appendChild(a),document.createElement("div"));var u;t.setAttribute("id",r.name+"-text"),t.setAttribute("class","legend-button-text"),t.style.backgroundColor=r.colors[0],0==c&&(u=r.colors[CandidateManager.tossupColor],t.style.backgroundColor=u),t.style.padding="0px",t.innerHTML=r.name,a.appendChild(t);const o=document.createElement("div"),n=(o.setAttribute("class","legend-delete"),o.style.backgroundColor="black",t.appendChild(o),document.createElement("div"));if(n.setAttribute("class","legend-color-div"),a.appendChild(n),r.singleColor&&(n.style.display="none"),"Tossup"!==d){const s=document.createElement("div"),i=(s.setAttribute("class","legend-delete"),s.addEventListener("click",function(){const e=r.name;return function(){displayCandidateEditMenu(e)}}()),s.style.background="none",php_candidate_edit&&e.appendChild(s),document.createElement("div")),g=(i.setAttribute("class","legend-delete-text"),i.style.backgroundColor=r.colors[0],i.style.padding="0px",i.style.fontSize="14px",document.createElement("i"));g.classList.add("fas","fa-cog"),i.appendChild(g),s.appendChild(i)}if("Tossup"!==d&&LegendManager.legendLeans)for(let e=0;e<r.colors.length;++e){const l=document.createElement("div");l.classList.add("legend-color"),l.setAttribute("id",r.name+e),l.style.backgroundColor=r.colors[e],n.appendChild(l)}}const a=document.createElement("div");a.id="legend-addcandidate-button",a.classList.add("legend-button"),a.addEventListener("click",displayAddCandidateMenu),a.style.background="none",php_candidate_edit&&e.appendChild(a);var t=document.createElement("div"),n=(t.setAttribute("id","addcandidate-button-text"),t.setAttribute("class","legend-button-text"),t.style.backgroundColor=CandidateManager.candidates.Tossup.colors[CandidateManager.tossupColor],t.style.padding="0px",t.innerHTML="+",a.appendChild(t),document.createElement("div")),n=(n.setAttribute("class","legend-color-div"),a.appendChild(n),document.createElement("div")),t=(n.setAttribute("id","legend-tooltip"),e.appendChild(n),document.createElement("div"));t.setAttribute("id","legendtooltip-text"),t.setAttribute("class","legend-button-text"),t.style.padding="0px",t.innerHTML="Select a candidate",n.appendChild(t)}}LegendManager.legendCounter=!0,LegendManager.legendLeans=!0;class LogoManager{static toggleLogo(e){var a=document.getElementById("logo-div");switch(e){case"LTE":a.style.backgroundImage='url("./res/logos/lte.png")';break;case"RedEagle":a.style.backgroundImage='url("./res/logos/redeagletv.png")';break;case"PG":a.style.backgroundImage='url("./res/logos/pg.png")';break;case"EP":a.style.backgroundImage='url("./res/logos/ep.png")';break;case"RedDonkey":a.style.backgroundImage='url("./res/logos/reddonkey.png")';break;case"PoliticalAnalyst":a.style.backgroundImage='url("./res/logos/pa.png")'}LogoManager.currentLogo!==e||""===a.style.display?a.style.display="inline":"inline"===a.style.display&&(a.style.display=""),LogoManager.currentLogo=e}static loadButtons(){if(!LogoManager.buttonsLoaded){LogoManager.buttonsLoaded=!0;for(var e=document.getElementsByClassName("backbutton-addcandidatemenu"),a=document.getElementsByClassName("backbutton"),t=document.getElementsByClassName("closebutton"),n=0;n<e.length;++n)e[n].setAttribute("data","./html/backbutton-addcandidate.svg");for(n=0;n<a.length;++n)a[n].setAttribute("data","./html/backbutton.svg");for(n=0;n<t.length;++n)t[n].setAttribute("data","./html/closebutton.svg")}}static loadFlags(){if(!LogoManager.flagsLoaded){LogoManager.flagsLoaded=!0;for(var e=["aus","usa","bra","can","ger","ind","ita","ire","ned","prt","rus","esp","tur","ukd","eu","un","fra","tat","che","zaf","swe","arg","pak"],a=0;a<e.length;++a)for(var t=e[a],n=document.getElementsByClassName("flag-"+t),d=0;d<n.length;++d)n[d].setAttribute("src","res/flags/"+t+".svg")}}}LogoManager.currentLogo="",LogoManager.buttonsLoaded=!1,LogoManager.flagsLoaded=!1;class MapManager{static centerMap(){if(MapManager.panObject){MapManager.panObject.dispose();var e=document.getElementById("map-div");const t=document.getElementById("svgdata");var a=t.getBBox();t.setAttribute("viewBox","0 0 "+(a.x+a.width+a.x)+" "+(a.y+a.height+a.y)),MapManager.panObject=panzoom(t,{transformOrigin:{x:.5,y:.5},autocenter:!0,zoomDoubleClickSpeed:1,smoothScroll:!1,initialX:e.offsetWidth/2,initialY:e.offsetHeight/2,initialZoom:.85,zoomSpeed:.05,onTouch:function(e){return!1}})}}static setLockMap(e){const a=document.getElementById("lockbutton");!0===e?(a&&(a.style.opacity="0.5"),MapManager.panObject.pause(),MapManager.lockedMap=!0):(a&&(a.style.opacity="1"),MapManager.panObject.resume(),MapManager.lockedMap=!1)}static toggleLockMap(){const e=document.getElementById("lockbutton");MapManager.lockedMap?(e&&(e.style.opacity="1"),MapManager.panObject.resume(),MapManager.lockedMap=!1):(e&&(e.style.opacity="0.5"),MapManager.panObject.pause(),MapManager.lockedMap=!0)}}MapManager.lockedMap=!1,MapManager.panObject=null;class MapLoader{static loadPresetMap(e,a){CandidateManager.initCandidates(),fetch("./res/presets/"+e).then(e=>e.json()).then(e=>{console.log(e),MapLoader.loadSavedMap(e)}).catch(e=>{console.error(e)})}static loadMapFromURL(e){console.log("Map Loader: "+e),fetch(e).then(e=>e.json()).then(e=>{PresetLoader.loadPreset("none"),console.log("Map Loader: Found saved map"),MapLoader.loadSavedMap(e)}).catch(e=>{console.log("Map Loader: Did not find saved map"),console.log(e),PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/presidential/usa_presidential.svg",16,1,"usa_ec","presidential","open");const a=document.getElementById("notification"),t=a.querySelector("#notification-message"),n=a.querySelector("#notification-title");n.innerHTML="Sorry",t.innerHTML="The map you are looking for does not exist.<br><br>This feature is still in development and it may have been deleted.",a.style.display="inline"})}static loadMapFromId(e){switch(e){case"USA_current_house":PresetLoader.loadPreset("none"),MapLoader.loadPresetMap("usa/"+e);break;case"UnitedKingdom_current_parliament":PresetLoader.loadPreset("none"),MapLoader.loadPresetMap("ukd/"+e);break;case"USA_current_senate":case"USA_current_governors":case"USA_2024_projection":case"USA_2020_presidential":case"USA_2020_cook":case"USA_2020_inside":case"USA_2020_sabatos":case"USA_2020_house_cook":case"USA_2016_presidential":case"USA_2016_presidential_county":case"USA_2016_democratic_primary":case"USA_2016_republican_primary":case"USA_2012_presidential":case"USA_2008_presidential":case"USA_2004_presidential":case"USA_2000_presidential":case"USA_1996_presidential":case"USA_1992_presidential":case"USA_1988_presidential":case"USA_1984_presidential":case"USA_1980_presidential":case"USA_1976_presidential":case"USA_1972_presidential":case"USA_1968_presidential":case"USA_1964_presidential":case"USA_1960_presidential":case"USA_1956_presidential":case"USA_1952_presidential":case"USA_1948_presidential":case"USA_1944_presidential":case"USA_1940_presidential":case"USA_1936_presidential":case"USA_1932_presidential":case"USA_1928_presidential":case"USA_1924_presidential":case"USA_1920_presidential":case"USA_1916_presidential":case"USA_1912_presidential":case"USA_1908_presidential":case"USA_1904_presidential":case"USA_1900_presidential":case"USA_1896_presidential":case"USA_1892_presidential":case"USA_1888_presidential":case"USA_1884_presidential":case"USA_1880_presidential":case"USA_1876_presidential":case"USA_1872_presidential":case"USA_1868_presidential":case"USA_1864_presidential":case"USA_1789_presidential":case"USA_1792_presidential":case"USA_1796_presidential":case"USA_1800_presidential":case"USA_1804_presidential":case"USA_1808_presidential":case"USA_1812_presidential":case"USA_1816_presidential":case"USA_1820_presidential":case"USA_1824_presidential":case"USA_1828_presidential":case"USA_1832_presidential":case"USA_1836_presidential":case"USA_1840_presidential":case"USA_1844_presidential":case"USA_1848_presidential":case"USA_1852_presidential":case"USA_1856_presidential":case"USA_1860_presidential":case"USA_trump_impeachment_support":PresetLoader.loadPreset("none"),MapLoader.loadPresetMap("usa/"+e);break;case"Canada_2021_house_of_commons":case"Canada_2019_house_of_commons":PresetLoader.loadPreset("none"),MapLoader.loadPresetMap("can/"+e);break;case"Alabama_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/alabama/2020_house.svg",16,.15,"1","takeall_noedit","open");break;case"Alaska_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/alaska/2020_house.svg",16,.02,"1","takeall_noedit","open");break;case"Arizona_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/arizona/2020_upper.svg",16,.3,"1","takeall_noedit","open");break;case"Arizona_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/arizona/2020_lower.svg",16,.3,"2","proportional","open");break;case"Arkansas_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/arkansas/2020_upper.svg",16,4.5,"1","takeall_noedit","open");break;case"Arkansas_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/arkansas/2020_house.svg",16,150,"1","takeall_noedit","open");break;case"California_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/california/2020_upper.svg",16,.25,"1","takeall_noedit","open");break;case"California_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/california/2020_house.svg",16,.1,"1","takeall_noedit","open");break;case"Colorado_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/colorado/2020_house.svg",16,.15,"1","takeall_noedit","open");break;case"Connecticut_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/connecticut/2020_house.svg",16,.5,"1","takeall_noedit","open");break;case"Florida_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/florida/2020_upper.svg",16,.3,"1","takeall_noedit","open");break;case"Florida_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/florida/2020_house.svg",16,.25,"1","takeall_noedit","open");break;case"Hawaii_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/hawaii/2020_house.svg",16,.2,"1","takeall_noedit","open");break;case"Idaho_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/idaho/2020_house.svg",16,.2,"1","takeall_noedit","open");break;case"Idaho_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/idaho/2020_house.svg",16,.2,"2","proportional","open");break;case"Iowa_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/iowa/2020_house.svg",16,.2,"1","takeall_noedit","open");break;case"Iowa_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/iowa/2020_senate.svg",16,.2,"1","takeall_noedit","open");break;case"Michigan_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/michigan/2020_house.svg",16,.2,"1","takeall_noedit","open");break;case"Minnesota_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/minnesota/2020_upper.svg",16,.5,"1","takeall_noedit","open");break;case"Minnesota_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/minnesota/2020_house.svg",16,.5,"1","takeall_noedit","open");break;case"NewJersey_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/newjersey/2020_house.svg",16,.1,"1","takeall_noedit","open");break;case"NewJersey_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/newjersey/2020_house.svg",16,.1,"2","proportional","open");break;case"NewMexico_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/newmexico/2020_house.svg",16,.1,"1","takeall_noedit","open");break;case"NewYork_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/newyork/2020_lower.svg",16,.1,"1","takeall_noedit","open");break;case"NorthCarolina_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/northcarolina/2020_senate.svg",16,.5,"1","takeall_noedit","open");break;case"NorthDakota_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/northdakota/2020_upper.svg",16,.1,"1","takeall_noedit","open");break;case"NorthDakota_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/northdakota/2020_house.svg",16,.1,"2","proportional","open");break;case"Ohio_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/ohio/2020_upper.svg",16,.05,"1","takeall_noedit","open");break;case"Ohio_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/ohio/2020_lower.svg",16,.1,"1","takeall_noedit","open");break;case"Oregon_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/oregon/2020_upper.svg",16,0,"1","takeall_noedit","open");break;case"Oregon_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/oregon/2020_house.svg",16,.1,"1","takeall_noedit","open");break;case"Pennsylvania_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/pennsylvania/2020_upper.svg",16,.5,"1","takeall_noedit","open");break;case"Pennsylvania_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/pennsylvania/2020_house.svg",16,.25,"1","takeall_noedit","open");break;case"SouthDakota_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/southdakota/2020_house.svg",16,1,"1","takeall_noedit","open");break;case"Texas_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/texas/2020_upper.svg",16,.75,"1","takeall_noedit","open");break;case"Texas_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/texas/2020_house.svg",16,.5,"1","takeall_noedit","open");break;case"Virginia_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/virginia/2020_senate.svg",16,.015,"1","takeall_noedit","open");break;case"Virginia_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/virginia/2020_house.svg",16,.015,"1","takeall_noedit","open");break;case"Washington_2020_state_upper":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/washington/2020_house.svg",16,.15,"1","takeall_noedit","open");break;case"Washington_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/washington/2020_house.svg",16,.15,"2","proportional","open");break;case"Wisconsin_2020_state_lower":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/wisconsin/2020_house.svg",16,.5,"1","takeall_noedit","open");break;case"USA_presidential_territories":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/presidential/usa_presidential_territories.svg",16,.75,"usa_territories_ec","takeall","open");break;case"USA_2024_presidential":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/presidential/usa_presidential.svg",16,.75,"usa_2024_ec","takeall","open");break;case"USA_2020_presidential_blank":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/presidential/usa_presidential.svg",16,.75,"usa_ec","takeall","open");break;case"USA_split_maine":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/presidential/usa_1972_presidential.svg",16,.75,"usa_1972_ec","takeall","open");break;case"USA_2022_senate":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/senate/usa_senate.svg",16,1,"1","senatorial","2022");break;case"USA_2020_senate_blank":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/senate/usa_senate.svg",16,1,"1","senatorial","2020");break;case"USA_2022_governors":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/governors/usa_gubernatorial.svg",16,.75,"1","gubernatorial","2022");break;case"USA_2020_governors_blank":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/governors/usa_gubernatorial.svg",16,.75,"1","gubernatorial","2020");break;case"USA_2020_democratic_primary":PresetLoader.loadPreset("democratic primary"),MapLoader.loadMap("./res/usa/primary/usa_dem_primary.svg",16,.75,"dem_primary","proportional","open");break;case"USA_2020_republican_primary":PresetLoader.loadPreset("republican primary"),MapLoader.loadMap("./res/usa/primary/usa_rep_primary.svg",16,.75,"rep_primary","proportional","open");break;case"USA_county":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/county/usa_county.svg",16,.075,"1","takeall_noedit","open");break;case"USA_2022_house":case"USA_2020_house_blank":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/house/12-2-2019-house.svg",16,.075,"1","takeall_noedit","open",{enableEraser:!0});break;case"USA_2008_house":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/house/usa_congressional_2008.svg",16,.005,"1","takeall_noedit","open");break;case"USA_governors":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/governors/usa_gubernatorial.svg",16,.75,"1","gubernatorial","open");break;case"USA_senate":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/senate/usa_senate.svg",16,.75,"1","senatorial","open");break;case"USA_senate_class_1":PresetLoader.loadPreset("classic"),MapLoader.loadPresetMap("usa/USA_senate_class_1");break;case"USA_senate_class_2":PresetLoader.loadPreset("classic"),MapLoader.loadPresetMap("usa/USA_senate_class_2");break;case"USA_senate_class_3":PresetLoader.loadPreset("classic"),MapLoader.loadPresetMap("usa/USA_senate_class_3");break;case"USA_takeall":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/presidential/usa_no_districts.svg",16,.75,"usa_no_districts_ec","takeall","open");break;case"USA_proportional":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa/presidential/usa_no_districts.svg",16,.75,"usa_no_districts_ec","proportional","open");break;case"USA_pre_civilwar":MapLoader.loadMap("./res/usa/presidential/usa_pre_civilwar.svg",16,.75,"usa_pre_civilwar_ec","presidential","open");break;case"Pakistan_national_assembly":PresetLoader.loadPreset("pakistan"),MapLoader.loadMap("./res/pak/pakistan_constituencies.svg",16,.02,"1","takeall_noedit","open");break;case"Argentina_chamber_of_deputies":PresetLoader.loadPreset("argentina"),MapLoader.loadMap("./res/arg/argentina_provinces_buenos.svg",16,.75,"argentina_chamber_of_deputies","proportional","open");break;case"India_2019_lok_sabha":PresetLoader.loadPreset("none"),MapLoader.loadPresetMap("ind/"+e);break;case"USA_Canada":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/other/usa_canada.svg",16,.01,"1","takeall","open");break;case"Germany_states":PresetLoader.loadPreset("germany"),MapLoader.loadMap("./res/deu/germany.svg",16,1,"1","takeall","open");break;case"Germany_bundestag":PresetLoader.loadPreset("germany"),MapLoader.loadMap("./res/deu/germany_constituencies.svg",16,.25,"1","takeall_noedit","open");break;case"France_national_assembly":PresetLoader.loadPreset("france"),MapLoader.loadMap("./res/fra/france_constituencies.svg",16,.25,"1","takeall_noedit","open");break;case"Netherlands_provinces":PresetLoader.loadPreset("netherlands"),MapLoader.loadMap("./res/nld/netherlands_provinces.svg",16,.15,"netherlands_provinces","proportional","open");break;case"Netherlands_gemeenten":PresetLoader.loadPreset("netherlands"),MapLoader.loadMap("./res/nld/netherlands_gemeenten.svg",16,.15,"1","takeall_noedit","open");break;case"Italy_states":PresetLoader.loadPreset("italy"),MapLoader.loadMap("./res/ita/italy.svg",16,1,"1","takeall_noedit","open");break;case"Portugal_assembly_of_the_republic":PresetLoader.loadPreset("portugal"),MapLoader.loadMap("./res/prt/portugal_constituencies.svg",16,.25,"portugal_constituencies","proportional","open");break;case"Poland":PresetLoader.loadPreset("portugal"),MapLoader.loadMap("./res/pol/poland_senate.svg",16,.25,"1","takeall_noedit","open");break;case"Spain_congress_of_deputies":PresetLoader.loadPreset("spain"),MapLoader.loadMap("./res/esp/spain_constituencies.svg",16,.25,"spain_constituencies","proportional","open");break;case"Sweden_riksdag":PresetLoader.loadPreset("sweden"),MapLoader.loadMap("./res/swe/sweden_districts.svg",25,.25,"sweden_riksdag","proportional","open");break;case"Turkey_national_assembly":PresetLoader.loadPreset("turkey"),MapLoader.loadMap("./res/tur/turkey_provinces.svg",16,.5,"turkey_national_assembly","proportional","open");break;case"India_lok_sabha":PresetLoader.loadPreset("india"),MapLoader.loadMap("./res/ind/india_constituencies.svg",16,.1,"1","takeall_noedit","open");break;case"SouthAfrica_national_assembly":PresetLoader.loadPreset("southafrica"),MapLoader.loadMap("./res/zaf/south_africa_provinces.svg",25,.25,"south_africa_national_assembly","proportional","open");break;case"UnitedKingdom_house_of_commons":PresetLoader.loadPreset("uk"),MapLoader.loadMap("./res/ukd/unitedkingdom.svg",16,.075,"1","takeall_noedit","open");break;case"UnitedKingdom_house_of_commons_proposed_2023":PresetLoader.loadPreset("uk"),MapLoader.loadMap("./res/ukd/unitedkingdom_proposed_2023.svg",16,.05,"1","takeall_noedit","open");break;case"UnitedKingdom_historic_counties":PresetLoader.loadPreset("uk"),MapLoader.loadMap("./res/ukd/unitedkingdom_historic_counties.svg",16,.4,"1","takeall","open");break;case"Ukraine":PresetLoader.loadPreset("uk"),MapLoader.loadMap("./res/ukr/ukraine.svg",16,.1,"1","takeall_noedit","open");break;case"Ireland_dail_eireann":PresetLoader.loadPreset("ireland"),MapLoader.loadMap("./res/irl/ireland_constituencies_2020.svg",16,.075,"ireland_constituencies","proportional","open");break;case"Canada_provinces":PresetLoader.loadPreset("canada"),MapLoader.loadMap("./res/can/canada_states.svg",38,2,"1","takeall","open");break;case"Canada_house_of_commons":PresetLoader.loadPreset("canada"),MapLoader.loadMap("./res/can/canada_constituencies.svg",16,.1,"1","takeall_noedit","open");break;case"Australia_house_of_representatives":PresetLoader.loadPreset("australia"),MapLoader.loadMap("./res/aus/australia_constituencies.svg",16,.1,"1","takeall_noedit","open");break;case"Australia_states":PresetLoader.loadPreset("australia"),MapLoader.loadMap("./res/aus/australia.svg",16,.075,"1","takeall","open");break;case"Brazil_chamber_of_deputies":PresetLoader.loadPreset("brazil"),MapLoader.loadMap("./res/bra/brazil_states.svg",16,50,"brazil_deputies","proportional","open");break;case"Brazil_federal_senate":PresetLoader.loadPreset("brazil"),MapLoader.loadMap("./res/bra/brazil_states.svg",16,50,"3","proportional","open");break;case"Russia_federal_council":PresetLoader.loadPreset("russia"),MapLoader.loadMap("./res/rus/russia_federal_subjects.svg",16,.25,"2","proportional","open");break;case"Russia_duma":PresetLoader.loadPreset("russia"),MapLoader.loadMap("./res/rus/russia_constituencies.svg",16,.15,"duma","takeall_noedit","open");break;case"Trinidad_Tobago_house_of_representatives":PresetLoader.loadPreset("trinidad_tobago"),MapLoader.loadMap("./res/tto/trinidad_tobago_house_of_representatives.svg",16,.25,"1","takeall_noedit","open");break;case"Switzerland_national_council":PresetLoader.loadPreset("switzerland"),MapLoader.loadMap("./res/che/switzerland_cantons.svg",16,.25,"switzerland_national_council","proportional","open");break;case"Switzerland_council_of_states":PresetLoader.loadPreset("switzerland"),MapLoader.loadMap("./res/che/switzerland_cantons.svg",16,.25,"switzerland_council_of_states","proportional","open");break;case"EuropeanUnion":PresetLoader.loadPreset("eu"),MapLoader.loadMap("./res/eu/eu.svg",16,.25,"eu_parliament","proportional","open");break;case"World":PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/other/world.svg",38,.25,"1","takeall","open");break;default:PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa_presidential.svg",16,1,"usa_ec","takeall","open")}}static loadMap(d,r,e,o,s,i,l){var a,t,u,c;(MapLoader.save_filename!==d||MapLoader.save_dataid!==o||MapLoader.save_type!==s||MapLoader.save_year!==i||MapLoader.save_fontsize!==r||MapLoader.save_strokewidth!==e||(l&&l.onLoad&&l.onLoad(),l&&l.clear&&!0===l.clear))&&(setMode("paint"),"open"!==i&&((a=document.getElementById("modebutton-ec"))&&(a.style.display="none"),(t=document.getElementById("modebutton-delete"))&&(t.style.display="none")),"takeall_noedit"===s&&((a=document.getElementById("modebutton-ec"))&&(a.style.display="none"),setMode("fill")),"takeall_noedit"!==s&&"takeall"!==s&&"senatorial"!==s&&"gubernatorial"!==s||((t=document.getElementById("modebutton-paint"))&&(t.style.display="none"),setMode("fill")),MapLoader.save_filename=d,MapLoader.save_dataid=o,MapLoader.save_type=s,MapLoader.save_year=i,MapLoader.save_fontsize=r,MapLoader.save_strokewidth=e,(u=document.getElementById("map-div")).style.visibility="hidden",totalVotes=0,strokeMultiplier=e,c="./data/"+s+"_"+i,console.log("Map Loader: Loading "+d),fetch(d).then(e=>e.text()).then(e=>{let a=document.getElementById("map-div");a.innerHTML=e,console.log("Map Loader: Done loading "+d),MapLoader.onLoadSVG();const t=document.getElementById("svgdata");function n(){l&&l.onLoad&&l.onLoad(),showShortcuts();var e=document.getElementById("application-loading");setTimeout(function(){e.style.display="none"},200)}e=t.getBBox(),t.setAttribute("viewBox","0 0 "+(e.x+e.width+e.x)+" "+(e.y+e.height+e.y)),MapManager.panObject=panzoom(t,{transformOrigin:{x:.5,y:.5},autocenter:!0,zoomDoubleClickSpeed:1,smoothScroll:!1,initialX:a.offsetWidth/2,initialY:a.offsetHeight/2,initialZoom:.85,zoomSpeed:.05,onTouch:function(e){return!1}}),MapManager.centerMap(),onResize(),e=document.getElementById("text");null!==e&&(e.style.fontSize=r+"px"),MapLoader.initData(o),countVotes(),ChartManager.updateChart(),LegendManager.updateLegend(),setPalette(CookieManager.cookies.theme);"senatorial"===s&&"open"!==i?MapLoader.loadSenateFile(c,n):"gubernatorial"===s&&"open"!==i?MapLoader.loadGubernatorialFile(c,n):(u.style.visibility="visible",n())}))}static onLoadSVG(){ifInIframe()}static loadGubernatorialFile(s,i){CandidateManager.initCandidates();var l={};fetch(s).then(e=>e.text()).then(e=>{console.log("Done loading "+s);var a="candidate",t=e.split("\n");""===t[t.length-1]&&t.pop();for(var n=0;n<t.length;++n){var d,r,o=t[n].trim();"candidate"===a?"!"===o?a="disable":(d=o.split(" "),l[d[0]]=d[1],r=new Candidate(d[1],[d[2],d[3],d[4],d[5]]),CandidateManager.candidates[d[1]]=r):"disable"===a&&(d=o.split(" "),o=states.find(e=>e.name===d[0]),r=l[d[1]],"o"===d[1]?o.setColor("Tossup",2):(o.setColor(r,0),o.toggleLock()))}countVotes(),ChartManager.updateChart(),LegendManager.updateLegend(),document.getElementById("map-div").style.visibility="visible",i()})}static loadSenateFile(s,i){CandidateManager.initCandidates();var l={};fetch(s).then(e=>e.text()).then(e=>{console.log("FETCH SEN"),console.log("Done loading "+s);var a="candidate",t=e.split("\n");""===t[t.length-1]&&t.pop();for(var n=0;n<t.length;++n){var d,r,o=t[n].trim();"candidate"===a?"!"===o?a="disable":(d=o.split(" "),l[d[0]]=d[1],r=new Candidate(d[1],[d[2],d[3],d[4],d[5]]),CandidateManager.candidates[d[1]]=r):"disable"===a&&(d=o.split(" "),r=states.find(e=>e.name===d[0]),o=states.find(e=>e.name===d[0]+"-S"),"o"===d[1]?r.setColor("Tossup",2):(r.setColor(l[d[1]],0),r.toggleLock()),"o"===d[2]?o.setColor("Tossup",2):(o.setColor(l[d[2]],0),o.toggleLock()))}countVotes(),ChartManager.updateChart(),LegendManager.updateLegend(),document.getElementById("map-div").style.visibility="visible",i()})}static loadSavedMap(e,a){let u=e;MapLoader.loadMap(u.filename,u.fontsize,u.strokewidth,u.dataid,u.type,u.year,{onLoad:function(){for(var e in u.candidates){var a;"Tossup"!==e&&(u.candidates[e].constructor===Object?(a=u.candidates[e],CandidateManager.addCandidate(e,a.solid,a.likely,a.lean,a.tilt)):(a=u.candidates[e],CandidateManager.addCandidate2(e,a)))}for(let d in u.states){var r,o=u.states[d];let e=states.filter(e=>e.name===d)[0],a=0,t="Tossup",n=0;for(r in o.delegates){var s=o.delegates[r];a+=s,s>n?(t=r,n=s):s===n&&(t="Tossup")}e.setVoteCount(a),"Tossup"===t?e.setColor(t,2):e.setColor(t,o.colorvalue),o.candidate?(e.setColor(o.candidate,o.colorvalue),"proportional"===u.type&&(e.delegates=o.delegates)):e.delegates=o.delegates,e.simulator=o.simulator,o.disabled&&e.toggleDisable()}for(let d in u.proportional){var i,l=u.proportional[d];let e=proportionalStates.filter(e=>e.name===d)[0],a=0,t="Tossup",n=0;for(i in l.delegates){var c=l.delegates[i];a+=c,c>n?(t=i,n=c):c===n&&(t="Tossup")}e.setVoteCount(a),"Tossup"===t?e.setColor(t,2):e.setColor(t,l.colorvalue),e.simulator=l.simulator,e.delegates=l.delegates,l.disabled&&e.toggleDisable()}countVotes(),ChartManager.updateChart(),LegendManager.updateLegend(),document.getElementById("map-div").style.visibility="visible"}})}static loadFileMap(){var e=document.getElementById("loadfile").files[0],a=new FileReader;a.onload=function(e){e=e.target.result;MapLoader.loadSavedMap(JSON.parse(e)),closeAllPopups()},a.readAsText(e,"UTF-8")}static initData(e){states=[],buttons=[],lands=[];for(var a=document.getElementById("outlines").children,t=0,n=a.length;t<n;++t){var d=a[t];d.setAttribute("style","inherit"),d.setAttribute("cursor","pointer"),null===(i=d.getAttribute("id"))||i.includes("*lines*")||i.includes("*ignore*")||i.includes("_ignore_")||i.includes("othertext")||"text"===i||(i.includes("-button")?(d.onclick=function(){buttonClick(this)},d.addEventListener("mouseover",function(){KeyboardManager.keyStates[70]&&buttonClick(this,{setSolid:!0})}),buttons.push(d)):i.includes("-land")?(d.onclick=function(){landClick(this)},d.addEventListener("mouseover",function(){KeyboardManager.keyStates[70]&&landClick(this,{setSolid:!0})}),lands.push(d)):(d.onclick=function(){stateClick(this)},states.push(new State(i,d,e)),states.length,d.addEventListener("mouseover",function(){KeyboardManager.keyStates[70]&&stateClick(this,{setSolid:!0})})))}var r=document.getElementById("proportional");if(r)for(var o=r.children,t=0,n=o.length;t<n;++t){var s=o[t],i=(s.setAttribute("cursor","pointer"),s.setAttribute("style","inherit"),s.getAttribute("id")),l=new State(i,s,e);proportionalStates.push(l),s.onclick=function(){var e=proportionalStates.length-1;return function(){stateClickPaint(proportionalStates[e],{forceProportional:!0})}}()}}static clearMap(){MapLoader.loadMap(MapLoader.save_filename,MapLoader.save_fontsize,MapLoader.save_strokewidth,MapLoader.save_dataid,MapLoader.save_type,MapLoader.save_year,{clear:!0}),MapManager.setLockMap(!1)}static clearMapCandidates(){for(var e=0;e<states.length;++e)(a=states[e]).setColor("Tossup",2),a.resetDelegates();for(var a,e=0;e<proportionalStates.length;++e)(a=proportionalStates[e]).setColor("Tossup",2),a.resetDelegates()}}MapLoader.save_filename="",MapLoader.save_dataid="",MapLoader.save_type="",MapLoader.save_year="",MapLoader.save_fontsize="",MapLoader.save_strokewidth="";class PresetLoader{static loadPreset(e){switch(CandidateManager.initCandidates(),e){case"none":break;case"classic":PresetLoader.loadPresetClassic();break;case"republican primary":PresetLoader.loadPresetRepublicanPrimary();break;case"democratic primary":PresetLoader.loadPresetDemocraticPrimary();break;case"argentina":PresetLoader.loadPresetArgentina();break;case"france":PresetLoader.loadPresetFrance();break;case"germany":PresetLoader.loadPresetGermany();break;case"southafrica":PresetLoader.loadPresetSouthAfrica();break;case"india":PresetLoader.loadPresetIndia();break;case"italy":PresetLoader.loadPresetItaly();break;case"uk":PresetLoader.loadPresetUK();break;case"canada":PresetLoader.loadPresetCanada();break;case"australia":PresetLoader.loadPresetAustralia();break;case"spain":PresetLoader.loadPresetSpain();break;case"turkey":PresetLoader.loadPresetTurkey();break;case"trinidad_tobago":PresetLoader.loadPresetTrinidadTobago();break;case"netherlands":PresetLoader.loadPresetNetherlands();break;case"brazil":PresetLoader.loadPresetBrazil();break;case"ireland":PresetLoader.loadPresetIreland();break;case"russia":PresetLoader.loadPresetRussia();break;case"switzerland":PresetLoader.loadPresetSwitzerland();break;case"sweden":PresetLoader.loadPresetSweden();break;case"portugal":PresetLoader.loadPresetPortugal();break;case"pakistan":PresetLoader.loadPresetPakistan();case"eu":PresetLoader.loadPresetEU()}ChartManager.updateChart(),LegendManager.generateLegend(),LegendManager.updateLegend()}static loadPresetClassic(){var e=new Candidate("Republican",["#bf1d29","#ff5865","#ff8b98","#cf8980"]),a=new Candidate("Democrat",["#1c408c","#577ccc","#8aafff","#949bb3"]);CandidateManager.candidates.Republican=e,CandidateManager.candidates.Democrat=a}static loadPresetRepublicanPrimary(){var e=new Candidate("Trump",["#bf1d29","#bf1d29","#bf1d29","#bf1d29"]),a=new Candidate("Weld",["#e6b700","#e6b700","#e6b700","#e6b700"]),t=new Candidate("Walsh",["#1c408c","#1c408c","#1c408c","#1c408c"]);CandidateManager.candidates.Trump=e,CandidateManager.candidates.Weld=a,CandidateManager.candidates.Walsh=t}static loadPresetDemocraticPrimary(){var e=new Candidate("Biden",["#009900","#009900","#009900","#009900"]),a=new Candidate("Sanders",["#457FFF","#457FFF","#457FFF","#457FFF"]),t=new Candidate("Warren",["#996600","#996600","#996600","#996600"]),n=new Candidate("Gabbard",["#FF0074","#FF0074","#FF0074","#FF0074"]),d=new Candidate("Buttigieg",["#990099","#990099","#990099","#990099"]),r=new Candidate("Bloomberg",["#ff9900","#ff9900","#ff9900","#ff9900"]),o=new Candidate("Klobuchar",["#000000","#000000","#000000","#000000"]);CandidateManager.candidates.Biden=e,CandidateManager.candidates.Sanders=a,CandidateManager.candidates.Warren=t,CandidateManager.candidates.Bloomberg=r,CandidateManager.candidates.Buttigieg=d,CandidateManager.candidates.Klobuchar=o,CandidateManager.candidates.Gabbard=n}static loadPresetFrance(){var e=new Candidate("RN",["#004A77","#004A77","#004A77","#004A77"]),a=new Candidate("LREM",["#FFD600","#FFD600","#FFD600","#FFD600"]),t=new Candidate("EÉLV",["#7AB41D","#7AB41D","#7AB41D","#7AB41D"]),n=new Candidate("LR",["#0066CC","#0066CC","#0066CC","#0066CC"]),d=new Candidate("LFI",["#C9462C","#C9462C","#C9462C","#C9462C"]),r=new Candidate("PS",["#ED1651","#ED1651","#ED1651","#ED1651"]);CandidateManager.candidates.RN=e,CandidateManager.candidates.LREM=a,CandidateManager.candidates["EÉLV"]=t,CandidateManager.candidates.LR=n,CandidateManager.candidates.LFI=d,CandidateManager.candidates.PS=r,LegendManager.toggleLegendLeans()}static loadPresetGermany(){var e=new Candidate("CDU/CSU",["#000000","#000000","#000000","#000000"]),a=new Candidate("SPD",["#F0001C","#F0001C","#F0001C","#F0001C"]),t=new Candidate("GRÜNE",["#46962B","#46962B","#46962B","#46962B"]),n=new Candidate("AfD",["#009EE0","#009EE0","#009EE0","#009EE0"]),d=new Candidate("FDP",["#dec200","#dec200","#dec200","#dec200"]),r=new Candidate("LINKE",["#BE3075","#BE3075","#BE3075","#BE3075"]);CandidateManager.candidates["CDU/CSU"]=e,CandidateManager.candidates.SPD=a,CandidateManager.candidates["GRÜNE"]=t,CandidateManager.candidates.AfD=n,CandidateManager.candidates.FDP=d,CandidateManager.candidates.LINKE=r,LegendManager.toggleLegendLeans()}static loadPresetItaly(){var e=new Candidate("Lega",["#008F21","#008F21","#008F21","#008F21"]),a=new Candidate("PD",["#FF3643","#FF3643","#FF3643","#FF3643"]),t=new Candidate("M5S",["#FFEB3B","#FFEB3B","#FFEB3B","#FFEB3B"]),n=new Candidate("FI",["#318CE7","#318CE7","#318CE7","#318CE7"]),d=new Candidate("FdI",["#003397","#003397","#003397","#003397"]),r=new Candidate("+Eu",["#FFD700","#FFD700","#FFD700","#FFD700"]);CandidateManager.candidates.Lega=e,CandidateManager.candidates.PD=a,CandidateManager.candidates.M5S=t,CandidateManager.candidates.FI=n,CandidateManager.candidates.FdI=d,CandidateManager.candidates["+EU"]=r,LegendManager.toggleLegendLeans()}static loadPresetUK(){var e=new Candidate("CON",["#0087DC","#0087DC","#0087DC","#0087DC"]),a=new Candidate("LAB",["#DC241f","#DC241f","#DC241f","#DC241f"]),t=new Candidate("LDM",["#FDBB30","#FDBB30","#FDBB30","#FDBB30"]),n=new Candidate("SNP",["#cccc00","#cccc00","#cccc00","#cccc00"]),d=new Candidate("GRN",["#6AB023","#6AB023","#6AB023","#6AB023"]),r=new Candidate("DUP",["#D46A4C","#D46A4C","#D46A4C","#D46A4C"]),o=new Candidate("SF",["#008800","#008800","#008800","#008800"]),s=new Candidate("PC",["#008142","#008142","#008142","#008142"]),i=new Candidate("SDLP",["#579c85","#579c85","#579c85","#579c85"]),l=new Candidate("ALL",["#EFCD53","#EFCD53","#EFCD53","#EFCD53"]),c=new Candidate("Ind",["#aaaaaa","#aaaaaa","#aaaaaa","#aaaaaa"]);CandidateManager.candidates.CON=e,CandidateManager.candidates.LAB=a,CandidateManager.candidates.LDM=t,CandidateManager.candidates.SNP=n,CandidateManager.candidates.GRN=d,CandidateManager.candidates.DUP=r,CandidateManager.candidates.SF=o,CandidateManager.candidates.PC=s,CandidateManager.candidates.SDLP=i,CandidateManager.candidates.ALL=l,CandidateManager.candidates.Ind=c,LegendManager.toggleLegendLeans()}static loadPresetCanada(){var e=new Candidate("CON",["#6495ED","#6495ED","#6495ED","#6495ED"]),a=new Candidate("LIB",["#F08080","#F08080","#F08080","#F08080"]),t=new Candidate("NDP",["#F4A460","#F4A460","#F4A460","#F4A460"]),n=new Candidate("GRN",["#9ACD32","#9ACD32","#9ACD32","#9ACD32"]),d=new Candidate("BQC",["#87CEFA","#87CEFA","#87CEFA","#87CEFA"]),r=new Candidate("PPC",["#83789E","#83789E","#83789E","#83789E"]);CandidateManager.candidates.CON=e,CandidateManager.candidates.LIB=a,CandidateManager.candidates.NDP=t,CandidateManager.candidates.GRN=n,CandidateManager.candidates.BQC=d,CandidateManager.candidates.PPC=r,LegendManager.toggleLegendLeans()}static loadPresetArgentina(){var e=new Candidate("Let's Change",["#ccae0b","#ccae0b","#ccae0b","#ccae0b"]),a=new Candidate("FPV",["#75aadb","#75aadb","#75aadb","#75aadb"]),t=new Candidate("Federal",["#19bc9d","#19bc9d","#19bc9d","#19bc9d"]),n=new Candidate("UNA",["#0a1172","#0a1172","#0a1172","#0a1172"]),d=new Candidate("RxA",["#00677f","#00677f","#00677f","#00677f"]),r=new Candidate("FCpS",["#ff0080","#ff0080","#ff0080","#ff0080"]),o=new Candidate("Unity",["#00774f","#00774f","#00774f","#00774f"]),s=new Candidate("Evolution",["#ff0000","#ff0000","#ff0000","#ff0000"]),i=new Candidate("FIT",["#800000","#800000","#800000","#800000"]),l=new Candidate("Catamarca",["#ff69b4","#ff69b4","#ff69b4","#ff69b4"]),c=new Candidate("Other",["#999999","#999999","#999999","#999999"]);CandidateManager.candidates["Let's Change"]=e,CandidateManager.candidates.FPV=a,CandidateManager.candidates.Federal=t,CandidateManager.candidates.UNA=n,CandidateManager.candidates.RxA=d,CandidateManager.candidates.FCpS=r,CandidateManager.candidates.Unity=o,CandidateManager.candidates.Evolution=s,CandidateManager.candidates.FIT=i,CandidateManager.candidates.Catamarca=l,CandidateManager.candidates.Other=c,LegendManager.toggleLegendLeans()}static loadPresetAustralia(){var e=new Candidate("LIB",["#0047AB","#0047AB","#0047AB","#0047AB"]),a=new Candidate("LNP",["#063C7C","#063C7C","#063C7C","#063C7C"]),t=new Candidate("NAT",["#006644","#006644","#006644","#006644"]),n=new Candidate("CLP",["#F8981D","#F8981D","#F8981D","#F8981D"]),d=new Candidate("IND",["#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0"]),r=new Candidate("CEN",["#ff6300","#ff6300","#ff6300","#ff6300"]),o=new Candidate("GRN",["#39B54A","#39B54A","#39B54A","#39B54A"]),s=new Candidate("LAB",["#DE3533","#DE3533","#DE3533","#DE3533"]);CandidateManager.candidates.LIB=e,CandidateManager.candidates.LNP=a,CandidateManager.candidates.NAT=t,CandidateManager.candidates.CLP=n,CandidateManager.candidates.IND=d,CandidateManager.candidates.CEN=r,CandidateManager.candidates.GRN=o,CandidateManager.candidates.LAB=s,LegendManager.toggleLegendLeans()}static loadPresetSpain(){var e=new Candidate("PSOE",["#EF1C27","#EF1C27","#EF1C27","#EF1C27"]),a=new Candidate("PP",["#1D84CE","#1D84CE","#1D84CE","#1D84CE"]),t=new Candidate("Vox",["#63BE21","#63BE21","#63BE21","#63BE21"]),n=new Candidate("Unidas Podemos",["#7B4977","#7B4977","#7B4977","#7B4977"]),d=new Candidate("Cs",["#EB6109","#EB6109","#EB6109","#EB6109"]),r=new Candidate("ERC-Sobiranistes",["#FFB232","#FFB232","#FFB232","#FFB232"]),o=new Candidate("Más País",["#0FDEC4","#0FDEC4","#0FDEC4","#0FDEC4"]),s=new Candidate("JxCat-Junts",["#ED5975","#ED5975","#ED5975","#ED5975"]),i=new Candidate("EAJ/PNV",["#4AAE4A","#4AAE4A","#4AAE4A","#4AAE4A"]),l=new Candidate("EH Bildu",["#B5CF18","#B5CF18","#B5CF18","#B5CF18"]),c=new Candidate("CUP-PR",["#FFED00","#FFED00","#FFED00","#FFED00"]),u=new Candidate("PACMA",["#ADBE18","#ADBE18","#ADBE18","#ADBE18"]),g=new Candidate("CCa-PNC-NC",["#FFD700","#FFD700","#FFD700","#FFD700"]),p=new Candidate("BNG",["#ADCFEF","#ADCFEF","#ADCFEF","#ADCFEF"]),C=new Candidate("NA+",["#999999","#999999","#999999","#999999"]),h=new Candidate("PRC",["#C2CE0C","#C2CE0C","#C2CE0C","#C2CE0C"]),m=new Candidate("¡Teruel Existe!",["#037252","#037252","#037252","#037252"]);CandidateManager.candidates.PSOE=e,CandidateManager.candidates.PP=a,CandidateManager.candidates.Vox=t,CandidateManager.candidates["Unidas Podemos"]=n,CandidateManager.candidates.Cs=d,CandidateManager.candidates["ERC-Sobiranistes"]=r,CandidateManager.candidates["JxCat-Junts"]=s,CandidateManager.candidates["Más País"]=o,CandidateManager.candidates["EAJ/PNV"]=i,CandidateManager.candidates["EH Bildu"]=l,CandidateManager.candidates["CCa-PNC-NC"]=g,CandidateManager.candidates.PRC=h,CandidateManager.candidates["CUP-PR"]=c,CandidateManager.candidates.PACMA=u,CandidateManager.candidates.BNG=p,CandidateManager.candidates["NA+"]=C,CandidateManager.candidates["¡Teruel Existe!"]=m,LegendManager.toggleLegendLeans()}static loadPresetTurkey(){var e=new Candidate("AKP",["#ffcc00","#ffcc00","#ffcc00","#ffcc00"]),a=new Candidate("MHP",["#870000","#870000","#870000","#870000"]),t=new Candidate("BBP",["#cc5252","#cc5252","#cc5252","#cc5252"]),n=new Candidate("CHP",["#e30000","#e30000","#e30000","#e30000"]),d=new Candidate("HDP",["#951b88","#951b88","#951b88","#951b88"]),r=new Candidate("IYI",["#0099cc","#0099cc","#0099cc","#0099cc"]),o=new Candidate("SP",["#ff5f5f","#ff5f5f","#ff5f5f","#ff5f5f"]),s=new Candidate("TIP",["#990000","#990000","#990000","#990000"]),i=new Candidate("DP",["#ff3333","#ff3333","#ff3333","#ff3333"]),l=new Candidate("Ind",["#b0b0b0","#b0b0b0","#b0b0b0","#b0b0b0"]);CandidateManager.candidates.AKP=e,CandidateManager.candidates.MHP=a,CandidateManager.candidates.BBP=t,CandidateManager.candidates.CHP=n,CandidateManager.candidates.HDP=d,CandidateManager.candidates.IYI=r,CandidateManager.candidates.SP=o,CandidateManager.candidates.TIP=s,CandidateManager.candidates.DP=i,CandidateManager.candidates.Ind=l,LegendManager.toggleLegendLeans()}static loadPresetTrinidadTobago(){var e=new Candidate("PNM",["#ff0000","#ff0000","#ff0000","#ff0000"]),a=new Candidate("UNC",["#e8ac41","#e8ac41","#e8ac41","#e8ac41"]),t=new Candidate("COP",["#000000","#000000","#000000","#000000"]),n=new Candidate("PDP",["#32cd32","#32cd32","#32cd32","#32cd32"]);CandidateManager.candidates.PNM=e,CandidateManager.candidates.UNC=a,CandidateManager.candidates.COP=t,CandidateManager.candidates.PDP=n,LegendManager.toggleLegendLeans()}static loadPresetNetherlands(){var e=new Candidate("FvD",["#841818","#841818","#841818","#841818"]),a=new Candidate("VVD",["#21276A","#21276A","#21276A","#21276A"]),t=new Candidate("CDA",["#007C5E","#007C5E","#007C5E","#007C5E"]),n=new Candidate("GL",["#83BD00","#83BD00","#83BD00","#83BD00"]),d=new Candidate("PvdA",["#E12B1A","#E12B1A","#E12B1A","#E12B1A"]),r=new Candidate("D66",["#00B13D","#00B13D","#00B13D","#00B13D"]),o=new Candidate("PVV",["#21468B","#21468B","#21468B","#21468B"]),s=new Candidate("SP",["#EE161F","#EE161F","#EE161F","#EE161F"]),i=new Candidate("CU",["#00A7EB","#00A7EB","#00A7EB","#00A7EB"]),l=new Candidate("PvdD",["#006B28","#006B28","#006B28","#006B28"]),c=new Candidate("50+",["#932390","#932390","#932390","#932390"]),u=(new Candidate("SGP",["#E95D0F","#E95D0F","#E95D0F","#E95D0F"]),new Candidate("DENK",["#00A7EB","#00A7EB","#00A7EB","#00A7EB"]));CandidateManager.candidates.FvD=e,CandidateManager.candidates.VVD=a,CandidateManager.candidates.CDA=t,CandidateManager.candidates.GL=n,CandidateManager.candidates.PvdA=d,CandidateManager.candidates.D66=r,CandidateManager.candidates.PVV=o,CandidateManager.candidates.SP=s,CandidateManager.candidates.CU=i,CandidateManager.candidates.PvdD=l,CandidateManager.candidates["50+"]=c,CandidateManager.candidates.DENK=u,LegendManager.toggleLegendLeans()}static loadPresetBrazil(){var e=new Candidate("PSL",["#203B78","#203B78","#203B78","#203B78"]),a=new Candidate("PP",["#7DC9FF","#7DC9FF","#7DC9FF","#7DC9FF"]),t=new Candidate("PL",["#0F0073","#0F0073","#0F0073","#0F0073"]),n=new Candidate("PSD",["#FFA500","#FFA500","#FFA500","#FFA500"]),d=new Candidate("MDB",["#30914D","#30914D","#30914D","#30914D"]),r=new Candidate("PRB",["#00E6A8","#00E6A8","#00E6A8","#00E6A8"]),o=new Candidate("PSDB",["#0080FF","#0080FF","#0080FF","#0080FF"]),e=(new Candidate("DEM",["#8CC63E","#8CC63E","#8CC63E","#8CC63E"]),new Candidate("SD",["#FF9C2B","#FF9C2B","#FF9C2B","#FF9C2B"]),new Candidate("PODE",["#2DA933","#2DA933","#2DA933","#2DA933"]),new Candidate("PTB",["#7B7B7B","#7B7B7B","#7B7B7B","#7B7B7B"]),new Candidate("PSC",["#009118","#009118","#009118","#009118"]),new Candidate("NOVO",["#FF4D00","#FF4D00","#FF4D00","#FF4D00"]),new Candidate("PATRI",["#CCAA00","#CCAA00","#CCAA00","#CCAA00"]),CandidateManager.candidates.PSL=e,CandidateManager.candidates.PP=a,CandidateManager.candidates.PL=t,CandidateManager.candidates.PSD=n,CandidateManager.candidates.MDB=d,CandidateManager.candidates.PRB=r,CandidateManager.candidates.PSDB=o,new Candidate("PT",["#CC0000","#CC0000","#CC0000","#CC0000"])),a=new Candidate("PSB",["#FFCC00","#FFCC00","#FFCC00","#FFCC00"]),t=new Candidate("PDT",["#FF0000","#FF0000","#FF0000","#FF0000"]),n=new Candidate("PSOL",["#700000","#700000","#700000","#700000"]),d=(new Candidate("PCdoB",["#A30000","#A30000","#A30000","#A30000"]),new Candidate("CIDADANIA",["#FF9191","#FF9191","#FF9191","#FF9191"]),new Candidate("PMN",["#DD3333","#DD3333","#DD3333","#DD3333"]),new Candidate("REDE",["#00C2BB","#00C2BB","#00C2BB","#00C2BB"]),CandidateManager.candidates.PT=e,CandidateManager.candidates.PSB=a,CandidateManager.candidates.PDT=t,CandidateManager.candidates.PSOL=n,new Candidate("PROS",["#FF5460","#FF5460","#FF5460","#FF5460"])),r=new Candidate("AVANTE",["#ED5F36","#ED5F36","#ED5F36","#ED5F36"]);CandidateManager.candidates.PROS=d,CandidateManager.candidates.AVANTE=r,LegendManager.toggleLegendLeans()}static loadPresetIreland(){var e=new Candidate("FG",["#6699FF","#6699FF","#6699FF","#6699FF"]),a=new Candidate("FF",["#66BB66","#66BB66","#66BB66","#66BB66"]),t=new Candidate("SF",["#326760","#326760","#326760","#326760"]),n=new Candidate("Lab",["#CC0000","#CC0000","#CC0000","#CC0000"]),d=new Candidate("S-PBP",["#E5E500","#E5E500","#E5E500","#E5E500"]),r=new Candidate("I4C",["#FFC0CB","#FFC0CB","#FFC0CB","#FFC0CB"]),o=new Candidate("SD",["#752F8B","#752F8B","#752F8B","#752F8B"]),s=new Candidate("GP",["#99CC33","#99CC33","#99CC33","#99CC33"]),i=new Candidate("Ind",["#CCCCCC","#CCCCCC","#CCCCCC","#CCCCCC"]);CandidateManager.candidates.FG=e,CandidateManager.candidates.FF=a,CandidateManager.candidates.SF=t,CandidateManager.candidates.Lab=n,CandidateManager.candidates["S-PBP"]=d,CandidateManager.candidates.I4C=r,CandidateManager.candidates.SD=o,CandidateManager.candidates.GP=s,CandidateManager.candidates.Ind=i,LegendManager.toggleLegendLeans()}static loadPresetRussia(){var e=new Candidate("ER",["#0C2C84","#0C2C84","#0C2C84","#0C2C84"]),a=new Candidate("LDPR",["#2862B3","#2862B3","#2862B3","#2862B3"]),t=new Candidate("CPRF",["#D70000","#D70000","#D70000","#D70000"]),n=new Candidate("Patriots",["#F6DF3B","#F6DF3B","#F6DF3B","#F6DF3B"]),d=new Candidate("CP",["#FAB512","#FAB512","#FAB512","#FAB512"]),r=new Candidate("Rodina",["#EA484A","#EA484A","#EA484A","#EA484A"]),o=new Candidate("Yabloko",["#00A800","#00A800","#00A800","#00A800"]),s=new Candidate("Ind",["#CCCCCC","#CCCCCC","#CCCCCC","#CCCCCC"]);CandidateManager.candidates.ER=e,CandidateManager.candidates.LDPR=a,CandidateManager.candidates.CPRF=t,CandidateManager.candidates.Patriots=n,CandidateManager.candidates.CP=d,CandidateManager.candidates.Rodina=r,CandidateManager.candidates.Yabloko=o,CandidateManager.candidates.Ind=s,LegendManager.toggleLegendLeans()}static loadPresetPortugal(){var e=new Candidate("PS",["#ff61ea","#ff61ea","#ff61ea","#ff61ea"]),a=new Candidate("Ind",["#aaaaaa","#aaaaaa","#aaaaaa","#aaaaaa"]),t=new Candidate("BE",["#870909","#870909","#870909","#870909"]),n=new Candidate("PCP",["#ff0000","#ff0000","#ff0000","#ff0000"]),d=new Candidate("PEV",["#008000","#008000","#008000","#008000"]),r=new Candidate("PPD/PSD",["#ff9900","#ff9900","#ff9900","#ff9900"]),o=new Candidate("CDS-PP",["#00daff","#00daff","#00daff","#00daff"]),s=new Candidate("PAN",["#008080","#008080","#008080","#008080"]);CandidateManager.candidates.PS=e,CandidateManager.candidates.BE=t,CandidateManager.candidates.PCP=n,CandidateManager.candidates.PEV=d,CandidateManager.candidates["PPD/PSD"]=r,CandidateManager.candidates["CDS-PP"]=o,CandidateManager.candidates.PAN=s,CandidateManager.candidates.Ind=a,LegendManager.toggleLegendLeans()}static loadPresetSouthAfrica(){var e=new Candidate("ANC",["#006600","#006600","#006600","#006600"]),a=new Candidate("DA",["#005ba6","#005ba6","#005ba6","#005ba6"]),t=new Candidate("EFF",["#852a2a","#852a2a","#852a2a","#852a2a"]),n=new Candidate("IFP",["#ff0000","#ff0000","#ff0000","#ff0000"]),d=new Candidate("FF+",["#ec8713","#ec8713","#ec8713","#ec8713"]),r=new Candidate("ACDP",["#ba0c2f","#ba0c2f","#ba0c2f","#ba0c2f"]),o=new Candidate("UDM",["#ffde01","#ffde01","#ffde01","#ffde01"]),s=new Candidate("ATM",["#00adee","#00adee","#00adee","#00adee"]),i=new Candidate("Good",["#f36900","#f36900","#f36900","#f36900"]),l=new Candidate("NFP",["#ff8040","#ff8040","#ff8040","#ff8040"]),c=new Candidate("AIC",["#ffb543","#ffb543","#ffb543","#ffb543"]),u=new Candidate("COPE",["#ffca08","#ffca08","#ffca08","#ffca08"]),g=new Candidate("PAC",["#008718","#008718","#008718","#008718"]),p=new Candidate("ALJ",["#1c9069","#1c9069","#1c9069","#1c9069"]);CandidateManager.candidates.ANC=e,CandidateManager.candidates.DA=a,CandidateManager.candidates.EFF=t,CandidateManager.candidates.IFP=n,CandidateManager.candidates["FF+"]=d,CandidateManager.candidates.ACDP=r,CandidateManager.candidates.UDM=o,CandidateManager.candidates.ATM=s,CandidateManager.candidates.Good=i,CandidateManager.candidates.NFP=l,CandidateManager.candidates.AIC=c,CandidateManager.candidates.COPE=u,CandidateManager.candidates.PAC=g,CandidateManager.candidates.ALJ=p,LegendManager.toggleLegendLeans()}static loadPresetIndia(){var e=new Candidate("BJP",["#ff9933","#ff9933","#ff9933","#ff9933"]),a=new Candidate("YSRCP",["#1569c7","#1569c7","#1569c7","#1569c7"]),t=new Candidate("SS",["#ff6634","#ff6634","#ff6634","#ff6634"]),n=new Candidate("JD",["#004285","#004285","#004285","#004285"]),d=new Candidate("BJD",["#006400","#006400","#006400","#006400"]),r=new Candidate("BSP",["#0000ff","#0000ff","#0000ff","#0000ff"]),o=new Candidate("TRS",["#ff89ce","#ff89ce","#ff89ce","#ff89ce"]),s=new Candidate("LJP",["#40ff7e","#40ff7e","#40ff7e","#40ff7e"]),i=new Candidate("INC",["#00bfff","#00bfff","#00bfff","#00bfff"]),l=new Candidate("DMK",["#de1100","#de1100","#de1100","#de1100"]),c=new Candidate("NCP",["#008080","#008080","#008080","#008080"]),u=new Candidate("AITC",["#00f200","#00f200","#00f200","#00f200"]),g=new Candidate("SP",["#a30000","#a30000","#a30000","#a30000"]);CandidateManager.candidates.BJP=e,CandidateManager.candidates.YSRCP=a,CandidateManager.candidates.SS=t,CandidateManager.candidates.JD=n,CandidateManager.candidates.BJD=d,CandidateManager.candidates.BSP=r,CandidateManager.candidates.TRS=o,CandidateManager.candidates.LJP=s,CandidateManager.candidates.INC=i,CandidateManager.candidates.DMK=l,CandidateManager.candidates.NCP=c,CandidateManager.candidates.AITC=u,CandidateManager.candidates.SP=g,LegendManager.toggleLegendLeans()}static loadPresetSweden(){var e=new Candidate("SAP",["#ed1231","#ed1231","#ed1231","#ed1231"]),a=new Candidate("MP",["#2b912b","#2b912b","#2b912b","#2b912b"]),t=new Candidate("C",["#216c3e","#216c3e","#216c3e","#216c3e"]),n=new Candidate("L",["#006ab5","#006ab5","#006ab5","#006ab5"]),d=new Candidate("V",["#ec121e","#ec121e","#ec121e","#ec121e"]),r=new Candidate("M",["#019cdb","#019cdb","#019cdb","#019cdb"]),o=new Candidate("SD",["#fedf09","#fedf09","#fedf09","#fedf09"]),s=new Candidate("KD",["#005ea3","#005ea3","#005ea3","#005ea3"]),i=new Candidate("Ind",["#999999","#999999","#999999","#999999"]);CandidateManager.candidates.SAP=e,CandidateManager.candidates.MP=a,CandidateManager.candidates.C=t,CandidateManager.candidates.L=n,CandidateManager.candidates.V=d,CandidateManager.candidates.M=r,CandidateManager.candidates.SD=o,CandidateManager.candidates.KD=s,CandidateManager.candidates.Ind=i,LegendManager.toggleLegendLeans()}static loadPresetSwitzerland(){var e=new Candidate("SVP/UDC",["#088a4b","#088a4b","#088a4b","#088a4b"]),a=new Candidate("FDP/PLR",["#0e52a0","#0e52a0","#0e52a0","#0e52a0"]),t=new Candidate("SDP/PSS",["#FA1360","#FA1360","#FA1360","#FA1360"]),n=new Candidate("GPS/PES",["#01df01","#01df01","#01df01","#01df01"]),d=new Candidate("CVP/PDC",["#ef7d00","#ef7d00","#ef7d00","#ef7d00"]),r=new Candidate("GLP/PVL",["#a6cf42","#a6cf42","#a6cf42","#a6cf42"]),o=new Candidate("BDP/PBD",["#000000","#000000","#000000","#000000"]),s=new Candidate("EVP/PEV",["#ffd735","#ffd735","#ffd735","#ffd735"]),i=new Candidate("LdT",["#6495ed","#6495ed","#6495ed","#6495ed"]),l=new Candidate("PdA/PST",["#FF0000","#FF0000","#FF0000","#FF0000"]),c=new Candidate("SolS",["#ababab","#ababab","#ababab","#ababab"]),u=new Candidate("EDU/UDF",["#9b2a58","#9b2a58","#9b2a58","#9b2a58"]);CandidateManager.candidates["SVP/UDC"]=e,CandidateManager.candidates["FDP/PLR"]=a,CandidateManager.candidates["SDP/PSS"]=t,CandidateManager.candidates["GPS/PES"]=n,CandidateManager.candidates["CVP/PDC"]=d,CandidateManager.candidates["GLP/PVL"]=r,CandidateManager.candidates["BDP/PBD"]=o,CandidateManager.candidates["EVP/PEV"]=s,CandidateManager.candidates["PdA/PST"]=l,CandidateManager.candidates.SolS=c,CandidateManager.candidates["EDU/UDF"]=u,CandidateManager.candidates.LdT=i,LegendManager.toggleLegendLeans()}static loadPresetPakistan(){var e=new Candidate("PTI",["#ff0f0f","#ff0f0f","#ff0f0f","#ff0f0f"]),a=new Candidate("MQM-P",["#8f0303","#8f0303","#8f0303","#8f0303"]),t=new Candidate("PML-Q",["#00800d","#00800d","#00800d","#00800d"]),n=new Candidate("BAP",["#9eee58","#9eee58","#9eee58","#9eee58"]),d=new Candidate("GDA",["#769c1e","#769c1e","#769c1e","#769c1e"]),r=new Candidate("AML",["#4aee31","#4aee31","#4aee31","#4aee31"]),o=new Candidate("JWP",["#d984e3","#d984e3","#d984e3","#d984e3"]),s=new Candidate("BNP-M",["#eee600","#eee600","#eee600","#eee600"]),i=new Candidate("PML-N",["#228000","#228000","#228000","#228000"]),l=new Candidate("PPP",["#000000","#000000","#000000","#000000"]),c=new Candidate("MMA",["#004c00","#004c00","#004c00","#004c00"]),u=new Candidate("ANP",["#ff0800","#ff0800","#ff0800","#ff0800"]),g=new Candidate("Ind",["#afafaf","#afafaf","#afafaf","#afafaf"]);CandidateManager.candidates.PTI=e,CandidateManager.candidates["MQM-P"]=a,CandidateManager.candidates["PML-Q"]=t,CandidateManager.candidates.BAP=n,CandidateManager.candidates.GDA=d,CandidateManager.candidates.AML=r,CandidateManager.candidates.JWP=o,CandidateManager.candidates["BNP-M"]=s,CandidateManager.candidates["PML-N"]=i,CandidateManager.candidates.PPP=l,CandidateManager.candidates.MMA=c,CandidateManager.candidates.ANP=u,CandidateManager.candidates.Ind=g,LegendManager.toggleLegendLeans()}static loadPresetEU(){var e=new Candidate("EPP",["#3399FF","#3399FF","#3399FF","#3399FF"]),a=new Candidate("PES",["#F0001C","#F0001C","#F0001C","#F0001C"]),t=new Candidate("ALDE",["#FFD700","#FFD700","#FFD700","#FFD700"]),n=new Candidate("EGP",["#99CC33","#99CC33","#99CC33","#99CC33"]),d=new Candidate("ECRP",["#0054A5","#0054A5","#0054A5","#0054A5"]),r=new Candidate("IDP",["#26428B","#26428B","#26428B","#26428B"]),o=new Candidate("PEL",["#800000","#800000","#800000","#800000"]),s=new Candidate("EFA",["#662287","#662287","#662287","#662287"]),i=new Candidate("EDP",["#EE9900","#EE9900","#EE9900","#EE9900"]),l=new Candidate("ECPM",["#0BAE2C","#0BAE2C","#0BAE2C","#0BAE2C"]),c=new Candidate("NI",["#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0"]);CandidateManager.candidates.EPP=e,CandidateManager.candidates.PES=a,CandidateManager.candidates.ALDE=t,CandidateManager.candidates.EGP=n,CandidateManager.candidates.ECRP=d,CandidateManager.candidates.IDP=r,CandidateManager.candidates.PEL=o,CandidateManager.candidates.EFA=s,CandidateManager.candidates.EDP=i,CandidateManager.candidates.ECPM=l,CandidateManager.candidates.NI=c,LegendManager.toggleLegendLeans()}}var totalVotes=0,stateCount=0;class State{constructor(e,a,t){this.name=e,this.fakename="District "+ ++stateCount,this.colorValue=2,this.htmlElement=a,this.candidate="Tossup",this.dataid=t,this.voteCount=0,this.voteCount_beforeDisable=0,this.resetVoteCount(),this.disabled=!1,this.locked=!1,this.onChange=function(){}}resetVoteCount(){var e;parseInt(this.dataid)?(e=parseInt(this.dataid),this.setVoteCount(e),this.voteCount_beforeDisable=e):"duma"===this.dataid?"Russia"===this.name?(this.setVoteCount(225),this.voteCount_beforeDisable=225):(this.setVoteCount(1),this.voteCount_beforeDisable=1):"congressional"===this.dataid||"usa_gubernatorial"===this.dataid||"gubernatorial"===this.dataid?(this.setVoteCount(1),this.voteCount_beforeDisable=1):"senate"===this.dataid?(this.setVoteCount(2),this.voteCount_beforeDisable=2):(this.setVoteCount(GlobalData[this.dataid][this.name]),this.voteCount_beforeDisable=GlobalData[this.dataid][this.name])}resetDelegates(){!0!==this.disabled&&(this.delegates={},this.delegates.Tossup=this.voteCount,this.setColor("Tossup",2,{setDelegates:!1}))}setDelegates(e,a){this.delegates[e]=a;var t="Tossup",n=0,d=2;for(e in this.delegates){var r=this.delegates[e];n<r?"Tossup"!==e&&(t=e,n=r,d=0):r===n&&(t="Tossup",d=2)}this.setColor(t,d,{setDelegates:!1})}setVoteCount(e){var a=e-this.voteCount;this.voteCount=e,this.delegates={},this.setDelegates("Tossup",e),"proportional"===MapLoader.save_type&&(this.candidate="Tossup",this.setColor("Tossup",2)),totalVotes+=a;const t=document.getElementById(this.name+"-text");null===t||"usa_ec"!==MapLoader.save_dataid&&"usa_1972_ec"!==MapLoader.save_dataid&&"usa_no_districts_ec"!==MapLoader.save_dataid&&"usa_pre_civilwar_ec"!==MapLoader.save_dataid&&"usa_territories_ec"!==MapLoader.save_dataid&&"usa_2024_ec"!==MapLoader.save_dataid||(this.name,void 0!==t.childNodes[1]?t.childNodes[1].innerHTML=" "+e:t.childNodes[0].innerHTML=this.name+" "+e)}getHtml(){return this.htmlElement}getDisplayColor(){return this.htmlElement.style.fill}setDisplayColor(e){this.htmlElement.style.fill=e;var a=document.getElementById(this.name+"-button"),a=(null!==a&&(a.style.fill=e),document.getElementById(this.name+"-land"));null!==a&&(a.style.fill=e)}verifyTossupColor(){"Tossup"===this.candidate&&this.setDisplayColor(CandidateManager.TOSSUP.colors[2])}toggleLock(){var e,a,t;0==this.locked?(this.disabled=!0,this.locked=!this.locked,this.name.includes("-S")&&(this.htmlElement.style.visibility="hidden"),this.setDisplayColor(CandidateManager.TOSSUP.colors[2]),this.htmlElement.setAttribute("fill-opacity","0.2"),this.htmlElement.setAttribute("stroke-opacity","0.2"),null!==(e=document.getElementById(this.name+"-text"))&&e.setAttribute("fill-opacity","0.2"),null!==(a=document.getElementById(this.name+"-land"))&&(a.setAttribute("fill-opacity","0.2"),a.setAttribute("stroke-opacity","0.2")),null!==(t=document.getElementById(this.name+"-button"))&&(t.setAttribute("fill-opacity","0.2"),t.setAttribute("stroke-opacity","0.2"))):1==this.locked&&(this.disabled=!1,this.locked=!this.locked,this.setColor(this.candidate,this.colorValue),this.htmlElement.setAttribute("fill-opacity","1.0"),this.htmlElement.setAttribute("stroke-opacity","1.0"),this.name.includes("-S")&&(this.htmlElement.style.visibility="visible"),null!==(e=document.getElementById(this.name+"-text"))&&e.setAttribute("fill-opacity","1.0"),null!=(a=document.getElementById(this.name+"-land"))&&(a.setAttribute("fill-opacity","1.0"),a.setAttribute("stroke-opacity","1.0")),null!==(t=document.getElementById(this.name+"-button"))&&(t.setAttribute("fill-opacity","1.0"),t.setAttribute("stroke-opacity","1.0")))}toggleDisable(){var e,a,t,n;1!=this.locked&&(0==this.disabled?(this.setVoteCount(0),this.setColor("Tossup",2),this.disabled=!this.disabled,this.htmlElement.setAttribute("fill-opacity","0.25"),this.htmlElement.setAttribute("stroke-opacity","0.25"),this.name.includes("-S"),"senatorial"!==MapLoader.save_type&&null!==(e=document.getElementById(this.name+"-text"))&&e.setAttribute("fill-opacity","0.25"),null!==(a=document.getElementById(this.name+"-land"))&&(a.setAttribute("fill-opacity","0.25"),a.setAttribute("stroke-opacity","0.25")),null!==(t=document.getElementById(this.name+"-button"))&&(t.setAttribute("fill-opacity","0.25"),t.setAttribute("stroke-opacity","0.25")),"senatorial"!==MapLoader.save_type&&null!==(n=document.getElementById(this.name.split("-")[0]+"-text"))&&n.setAttribute("fill-opacity","0.25")):1==this.disabled&&(this.resetVoteCount(),this.setVoteCount(this.voteCount),this.disabled=!this.disabled,this.setColor(this.candidate,this.colorValue),this.htmlElement.setAttribute("fill-opacity","1.0"),this.htmlElement.setAttribute("stroke-opacity","1.0"),this.name.includes("-S")&&(this.htmlElement.style.visibility="visible"),null!==(e=document.getElementById(this.name+"-text"))&&e.setAttribute("fill-opacity","1.0"),null!=(a=document.getElementById(this.name+"-land"))&&(a.setAttribute("fill-opacity","1.0"),a.setAttribute("stroke-opacity","1.0")),null!==(t=document.getElementById(this.name+"-button"))&&(t.setAttribute("fill-opacity","1.0"),t.setAttribute("stroke-opacity","1.0")),null!==(n=document.getElementById(this.name.split("-")[0]+"-text"))&&n.setAttribute("fill-opacity","1.0")))}incrementCandidateColor(e,a={setDelegates:!0}){if("Tossup"===this.candidate&&"Tossup"===e){const t=document.getElementById("legend-tooltip");t.classList.remove("flash_animation"),t.offsetWidth,t.classList.add("flash_animation")}this.disabled||(this.candidate!==e?this.colorValue=0:KeyboardManager.ctrlPressed()?--this.colorValue:this.colorValue+=1,a.setDelegates&&(this.delegates={},this.delegates.Tossup=0,this.delegates[e]=this.voteCount),"Tossup"===this.candidate?3<=this.colorValue&&(this.colorValue=0):(this.colorValue>=CandidateManager.candidates[e].colors.length?this.colorValue=0:this.colorValue<0&&(this.colorValue=CandidateManager.candidates[e].colors.length-1),CandidateManager.candidates[e].singleColor&&(this.colorValue=0)),this.candidate=e,"Tossup"===this.candidate&&(this.colorValue=CandidateManager.tossupColor),a=CandidateManager.TOSSUP.colors[CandidateManager.tossupColor],this.candidate in CandidateManager.candidates&&void 0!==CandidateManager.candidates[this.candidate].colors&&null!==CandidateManager.candidates[this.candidate].colors&&(a=CandidateManager.candidates[this.candidate].colors[this.colorValue],this.htmlElement.style.fill=a),null!=(e=document.getElementById(this.name+"-land"))&&(e.style.fill=a),null!=(e=document.getElementById(this.name+"-button"))&&(e.style.fill=a),this.onChange&&this.onChange())}highlight(){this.disabled||(this.highlight=!this.highlight,this.htmlElement.style.stroke="#ffff00",""===this.htmlElement.style.strokeWidth&&(this.htmlElement.style.strokeWidth="1px"),this.htmlElement.style.strokeWidth=new String(3*parseInt(this.htmlElement.style.strokeWidth.slice(0,-2)))+"px")}setColor(e,a,t={setDelegates:!0}){this.disabled||("Tossup"===(this.candidate=e)&&0==a&&(a=2),t.setDelegates&&(this.delegates={},this.delegates.Tossup=0,this.delegates[e]=this.voteCount),this.colorValue=a,t=null,(t=CandidateManager.candidates[e]?CandidateManager.candidates[e].colors[a]:t)&&(this.htmlElement.style.fill=t,this.htmlElement.setAttribute("fill","url(#"+this.name+"_pattern)"),null!=(e=document.getElementById(this.name+"-land"))&&(e.style.fill=t,e.setAttribute("fill","url(#"+this.name+"_pattern)")),null!=(a=document.getElementById(this.name+"-button"))&&(a.style.fill=t,a.setAttribute("fill","url(#"+this.name+"_pattern)"))),this.onChange&&this.onChange())}test_setColor(c){var e=document.getElementById("svgdata").firstChild,a=e.querySelector("#defs"),t=(null===a&&((a=document.createElementNS("http://www.w3.org/2000/svg","defs")).setAttribute("id","defs"),e.insertBefore(a,e.firstChild)),e.querySelector("#"+this.name+"_pattern"));for(null===t&&((t=document.createElementNS("http://www.w3.org/2000/svg","pattern")).setAttribute("id",this.name+"_pattern"),t.setAttribute("width","30"),t.setAttribute("height","30"),t.setAttribute("patternUnits","userSpaceOnUse"),t.setAttribute("patternTransform","rotate(-35)"),a.appendChild(t));t.firstChild;)t.removeChild(t.lastChild);for(var n=Object.keys(this.delegates),d=n.length,r=0,o=0;o<d;++o){var s=CandidateManager.candidates[n[o]].name;this.delegates[n[o]]&&"Tossup"!==s&&(r+=1)}for(var i=0,o=0;o<d;++o){var l,u=CandidateManager.candidates[n[o]].colors[0],s=CandidateManager.candidates[n[o]].name,g=this.delegates[n[o]];this.delegates[n[o]]&&"Tossup"!==s&&((l=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("class",s),l.setAttribute("fill",u),l.setAttribute("width",(g/this.voteCount*30).toString()),l.setAttribute("height","100%"),l.setAttribute("x",i.toString()),i+=30/r,l.setAttribute("y","0"),t.appendChild(l))}this.htmlElement.removeAttribute("style")}static setEC(){closeAllPopups();for(var e=document.getElementById("state-id").value,a=document.getElementById("state-ec").value,t=0,n=states.length;t<n;++t){var d=states[t];if(d.name===e){d.setVoteCount(parseInt(a));break}}countVotes(),ChartManager.updateChart(),LegendManager.updateLegend()}}function buttonClick(e){var a;!1!==php_candidate_edit&&(a=e.getAttribute("id").split("-")[0],e=states.find(e=>e.name===a),"paint"===mode||"fill"===mode?stateClickPaint(e):"ec"===mode?stateClickEC(e):"delete"===mode?stateClickDelete(e):"highlight"===mode&&stateClickHighlight(e),countVotes(),ChartManager.updateChart(),LegendManager.updateLegend())}function landClick(e){var a,t,n,d;!1!==php_candidate_edit&&"move"!==mode&&(a=KeyboardManager.quickFill(),e=e.getAttribute("id").split("-"),t=e[0],e[1],d=[],states.forEach(function(e,a){e.name.includes(t)&&(d.push(e),e.name.includes("AL")&&(n=e))}),"paint"===mode||"fill"===mode?(Simulator.view(n),a?n.setColor(paintIndex,0):n.incrementCandidateColor(paintIndex),d.forEach(function(e){e.setColor(n.candidate,n.colorValue)})):"delete"===mode&&d.forEach(function(e){e.toggleDisable()}),countVotes(),ChartManager.updateChart(),LegendManager.updateLegend())}function stateClick(e){if(!1!==php_candidate_edit){var a=e.getAttribute("id"),t=states.find(e=>e.name===a);switch(mode){case"paint":case"fill":Simulator.view(t),!1===Simulator.ignoreClick&&stateClickPaint(t);break;case"ec":stateClickEC(t);break;case"delete":stateClickDelete(t);break;case"highlight":stateClickHighlight(t)}countVotes(),ChartManager.updateChart(),LegendManager.updateLegend()}}var tooltipTimeout=null;function stateClickPaint(e,a={forceProportional:!1}){if(!e.disabled)if(a.forceProportional)displayProportionalEdit(e);else if("proportional"===MapLoader.save_type){if("proportional"===MapLoader.save_type){if(KeyboardManager.quickFill())return void e.setColor(paintIndex,0);if("fill"===mode)return void e.incrementCandidateColor(paintIndex)}displayProportionalEdit(e)}else KeyboardManager.quickFill()?e.setColor(paintIndex,0):KeyboardManager.areaSelect()?paintEntireState(e):e.incrementCandidateColor(paintIndex)}function stateClickHighlight(e){e.disabled||e.highlight()}function paintEntireState(e){if("./res/usa/house/12-2-2019-house.svg"===MapLoader.save_filename||"./res/usa/county/usa_county.svg"===MapLoader.save_filename){e.disabled;for(var a=e.name.substr(0,2),t=0,n=states.length;t<n;++t){var d=states[t],r="";"./res/usa/house/12-2-2019-house.svg"===MapLoader.save_filename?(a=e.name.substr(0,2),r=d.name.substr(0,2)):"./res/usa/county/usa_county.svg"===MapLoader.save_filename&&(a=e.name.substr(-2),r=d.name.substr(-2)),r===a&&d.setColor(paintIndex,0)}}}function stateClickDelete(e){KeyboardManager.areaSelect()?deleteEntireState(e):e.toggleDisable()}function deleteEntireState(e){if("./res/usa/house/12-2-2019-house.svg"===MapLoader.save_filename||"./res/usa/county/usa_county.svg"===MapLoader.save_filename)for(var a=!e.disabled,t=e.name.substr(0,2),n=0,d=states.length;n<d;++n){var r=states[n],o="";"./res/usa/house/12-2-2019-house.svg"===MapLoader.save_filename?(t=e.name.substr(0,2),o=r.name.substr(0,2)):"./res/usa/county/usa_county.svg"===MapLoader.save_filename&&(t=e.name.substr(-2),o=r.name.substr(-2)),o!==t||(a&&!1===r.disabled||!a&&!0===r.disabled)&&r.toggleDisable()}}function stateClickEC(e){var a,t,n,d;!1===e.disabled&&(a=document.getElementById("ecedit"),t=document.getElementById("ecedit-message"),n=document.getElementById("state-ec"),d=document.getElementById("state-id"),t.innerHTML="Set "+e.name+" delegates",n.value=e.voteCount,d.value=e.name,a.style.display="inline")}function specialClick(e,a){var t=e.getAttribute("id"),e=states.find(e=>e.name===t);"paint"!==mode&&"fill"!==mode||(e.incrementCandidateColor(paintIndex),countVotes(),ChartManager.updateChart(),LegendManager.updateLegend())}function legendClick(e,a){paintIndex=e,LegendManager.selectCandidateDisplay(a)}function displayProportionalEdit(e){LogoManager.loadButtons(),closeAllPopups();document.getElementById("demdel").style.display="flex";var a=document.getElementById("demdel-message");"SU"!==e.name?a.innerHTML=e.name+"<br><small>"+e.voteCount+" delegates</small>":a.innerHTML="Super<br><small>"+e.voteCount+" delegates</small>";document.getElementById("demdel-state-name").value=e.name;for(var t=document.getElementById("demdel-ranges");t.firstChild;)t.removeChild(t.firstChild);var o,s,i,l=e.voteCount,c=0,u=document.createElement("DIV");for(o in u.setAttribute("id","display-Tossup"),CandidateManager.candidates)"Tossup"!==o&&((s=document.createElement("INPUT")).setAttribute("id","range-"+o),s.setAttribute("type","range"),s.setAttribute("max",l),void 0===e.delegates[o]&&(e.delegates[o]=0),s.value=e.delegates[o],c+=e.delegates[o],(i=document.createElement("DIV")).setAttribute("id","display-"+o),i.innerHTML=o+" - "+s.value+" - "+(e.delegates[o]/l*100).toFixed(2)+"%",s.oninput=function(){var t=e,n=o,d=i,r=parseInt(s.value);return function(e){var a;c=(c-=r)+parseInt(this.value),l<c&&(c-=a=c-l,this.value-=a),r=parseInt(this.value),u.innerHTML="Tossup - "+(l-c)+" - "+((l-c)/l*100).toFixed(2)+"%",d.innerHTML=n+" - "+this.value+" - "+(this.value/l*100).toFixed(2)+"%",t.setDelegates("Tossup",l-c),t.setDelegates(n,parseInt(this.value)),countVotes(),ChartManager.updateChart(),LegendManager.updateLegend()}}(),t.appendChild(i),t.appendChild(s));u.innerHTML="Tossup - "+(l-c)+" - "+((l-c)/l*100).toFixed(2)+"%",t.appendChild(u)}var GlobalData={argentina_chamber_of_deputies:{"Buenos Aires":70,"Buenos Aires City":25,Catamarca:5,Chaco:7,Chubut:5,"Córdoba":18,Corrientes:7,"Entre Ríos":9,Formosa:5,Jujuy:6,"La Pampa":5,"La Rioja":5,Mendoza:10,Misiones:7,"Neuquén":5,"Río Negro":5,Salta:7,"San Juan":6,"San Luis":5,"Santa Cruz":5,"Santa Fe":19,"Santiago del Estero":7,"Tierra del Fuego":5,"Tucumán":9},turkey_national_assembly:{Adana:15,"Adıyaman":5,Afyonkarahisar:6,"Ağrı":4,Aksaray:4,Amasya:3,Ankara:36,Antalya:16,Ardahan:2,Artvin:2,"Aydın":8,"Balıkesir":9,"Bartın":2,Batman:5,Bayburt:1,Bilecik:2,"Bingöl":3,Bitlis:3,Bolu:3,Burdur:3,Bursa:20,"Çanakkale":4,"Çankırı":2,"Çorum":4,Denizli:8,"Diyarbakır":12,"Düzce":3,Edirne:4,"Elazığ":5,Erzincan:2,Erzurum:6,"Eskişehir":7,Gaziantep:14,Giresun:4,"Gümüşhane":2,"Hakkâri":3,Hatay:11,"Iğdır":2,Isparta:4,"İstanbul":98,"İzmir":28,"Kahramanmaraş":8,Kars:3,Kastamonu:3,"Karabük":3,Karaman:3,Kayseri:10,Kilis:2,"Kırklareli":3,"Kırıkkale":3,"Kırşehir":2,Kocaeli:13,Konya:15,"Kütahya":5,Malatya:6,Manisa:10,Mardin:6,Mersin:13,"Muğla":7,"Muş":4,"Nevşehir":3,"Niğde":3,Ordu:6,Osmaniye:4,Rize:3,Sakarya:7,Samsun:9,Siirt:3,Sinop:2,Sivas:5,"Şanlıurfa":14,"Şırnak":4,"Tekirdağ":7,Tokat:5,Trabzon:6,Tunceli:2,"Uşak":3,Van:8,Yalova:3,Yozgat:4,Zonguldak:5},south_africa_national_assembly:{"Eastern Cape":25,"Western Cape":23,"Northern Cape":5,Gauteng:48,KwaZulu:41,Limpopo:19,Mpumalanga:15,"Free State":11,"North West Cape":13,"South Africa":200},portugal_constituencies:{Lisbon:47,Porto:39,Braga:19,"Setúbal":18,Aveiro:16,Leiria:10,Coimbra:9,Faro:9,"Santarém":9,Viseu:9,Madeira:6,"Viana do Castelo":6,Azores:5,"Vila Real":5,Guarda:4,"Castelo Branco":4,Beja:3,"Bragança":3,"Évora":3,Portalegre:2,Europe:2,"Outside Europe":2},ireland_constituencies:{Donegal:5,"Sligo-Leitrim":4,Mayo:4,"Galway West":5,Clare:4,Kerry:5,"Cork South-West":3,"Cork North-West":3,"Limerick County":3,"Limerick City":4,"Cork South-Central":4,"Cork North-Central":4,"Cork East":4,Waterford:4,Tipperary:5,"Carlow-Kilkenny":5,Wexford:5,Wicklow:5,"Kildare North":4,"Kildare South":4,"Laois-Offaly":5,"Galway East":3,"Roscommon-Galway":3,"Longford-Westmeath":4,"Meath West":3,"Meath East":3,Louth:5,"Cavan-Monaghan":5,"Dublin Fingal":5,"Dublin West":4,"Dublin North-West":3,"Dublin Bay North":5,"Dublin Mid-West":4,"Dublin South-Central":4,"Dublin Central":4,"Dublin Bay South":4,"Dublin South-West":5,"Dublin Rathdown":3,"Dún Laoghaire":4},brazil_deputies:{"São Paulo":70,"Minas Gerais":53,"Rio de Janeiro":46,Bahia:39,"Rio Grande do Sul":31,"Paraná":30,Pernambuco:25,"Ceará":22,"Maranhão":18,"Goiás":17,"Pará":17,"Santa Catarina":16,"Paraíba":12,"Espírito Santo":10,"Piauí":10,Alagoas:9,Acre:8,Amazonas:8,"Amapá":8,"Distrito Federal do Brasil":8,"Mato Grosso do Sul":8,"Mato Grosso":8,"Rio Grande do Norte":8,"Rondônia":8,Roraima:8,Sergipe:8,Tocantins:8},netherlands_provinces:{Groningen:43,Friesland:43,Drenthe:41,Overijssel:47,Flevoland:41,Gelderland:55,Utrecht:49,"Noord-Holland":55,"Zuid-Holland":55,Zeeland:39,"Noord-Brabant":55,Limburg:47},spain_constituencies:{"La Coruña":8,Pontevedra:7,Lugo:4,Orense:4,Asturias:7,"León":4,Zamora:3,Salamanca:4,"Cáceres":4,Badajoz:6,Huelva:5,Seville:12,"Cádiz":9,Cordoba:6,"Málaga":11,Granada:7,Almeria:6,Jaen:5,Murcia:10,Alicante:12,Albacete:4,"Ciudad Real":5,Toledo:6,Cuenca:3,Valencia:15,"Castellón":5,Teruel:3,Guadalajara:3,Madrid:37,Avila:3,Segovia:3,Valladolid:5,Palencia:3,Burgos:4,Soria:2,Zaragoza:7,Tarragona:6,Barcelona:32,Girona:6,Lreida:4,Huesca:3,Navarre:5,"La Rioja":4,"Álava":4,Guipuzcoa:6,Biscay:8,Cantabria:5,Ceuta:1,Melilla:1,"Santa Cruz de Tenerife":7,"Las Palmas":8,"Balearic Islands":8},switzerland_national_council:{Aargau:16,"Appenzell Outer Rhodes":1,"Appenzell Inner Rhodes":1,"Basel-Landschaft":7,"Basel-Stadt":5,Bern:24,Fribourg:7,Geneva:12,Glarus:1,"Graubünden":5,Jura:2,Lucerne:9,"Neuchâtel":4,Nidwalden:1,Obwalden:1,"St. Gallen":12,Schaffhausen:2,Schwyz:4,Solothurn:6,Thurgau:6,Ticino:8,Uri:1,Vaud:19,Valais:8,Zurich:35,Zug:3},switzerland_council_of_states:{Aargau:2,"Appenzell Outer Rhodes":1,"Appenzell Inner Rhodes":1,"Basel-Landschaft":1,"Basel-Stadt":1,Bern:2,Fribourg:2,Geneva:2,Glarus:2,"Graubünden":2,Jura:2,Lucerne:2,"Neuchâtel":2,Nidwalden:1,Obwalden:1,"St. Gallen":2,Schaffhausen:2,Schwyz:2,Solothurn:2,Thurgau:2,Ticino:2,Uri:2,Vaud:2,Valais:2,Zurich:2,Zug:2},sweden_riksdag:{Sweden:39,"Stockholms kommun":29,Stockholm:39,Uppsala:11,"Södermanland":9,"Östergötland":14,"Jönköping":11,Kronoberg:6,Kalmar:8,Gotland:2,Blekinge:5,"Malmö kommun":10,"Skåne läns västra":9,"Skåne läns södra":12,"Skåne läns norra och östra":10,"Värmland":9,"Örebro":9,"Västmanland":8,Dalarna:9,"Gävleborg":9,"Västernorrland":8,"Jämtland":4,"Västerbotten":9,Norrbotten:8,Halland:10,"Göteborgs kommun":17,"Västra Götalands läns norra":8,"Västra Götalands läns östra":9,"Västra Götalands läns västra":11,"Västra Götalands läns södra":7},usa_territories_ec:{AL:9,AK:3,AZ:11,AR:6,CA:55,CO:9,CT:7,DE:3,FL:29,GA:16,HI:4,ID:4,IL:20,IN:11,IA:6,KS:6,KY:8,LA:8,ME:4,"ME-AL":2,"ME-D1":1,"ME-D2":1,MD:10,MA:11,MI:16,MN:10,MS:6,MO:10,MT:3,NE:5,"NE-AL":2,"NE-D1":1,"NE-D2":1,"NE-D3":1,NV:6,NH:4,NJ:14,NM:5,NY:29,NC:15,ND:3,OH:18,OK:7,OR:7,PA:20,RI:4,SC:9,SD:3,TN:11,TX:38,UT:6,VT:3,VA:13,WA:12,WV:5,WI:10,WY:3,DC:3,AS:1,GU:1,MP:1,PR:1,VI:1},usa_ec:{AL:9,AK:3,AZ:11,AR:6,CA:55,CO:9,CT:7,DE:3,FL:29,GA:16,HI:4,ID:4,IL:20,IN:11,IA:6,KS:6,KY:8,LA:8,ME:4,"ME-AL":2,"ME-D1":1,"ME-D2":1,MD:10,MA:11,MI:16,MN:10,MS:6,MO:10,MT:3,NE:5,"NE-AL":2,"NE-D1":1,"NE-D2":1,"NE-D3":1,NV:6,NH:4,NJ:14,NM:5,NY:29,NC:15,ND:3,OH:18,OK:7,OR:7,PA:20,RI:4,SC:9,SD:3,TN:11,TX:38,UT:6,VT:3,VA:13,WA:12,WV:5,WI:10,WY:3,DC:3},usa_2024_ec:{AL:9,AK:3,AZ:11,AR:6,CA:54,CO:10,CT:7,DE:3,FL:30,GA:16,HI:4,ID:4,IL:19,IN:11,IA:6,KS:6,KY:8,LA:8,ME:4,"ME-AL":2,"ME-D1":1,"ME-D2":1,MD:10,MA:11,MI:15,MN:10,MS:6,MO:10,MT:4,NE:5,"NE-AL":2,"NE-D1":1,"NE-D2":1,"NE-D3":1,NV:6,NH:4,NJ:14,NM:5,NY:28,NC:16,ND:3,OH:17,OK:7,OR:8,PA:19,RI:4,SC:9,SD:3,TN:11,TX:40,UT:6,VT:3,VA:13,WA:12,WV:4,WI:10,WY:3,DC:3},usa_1972_ec:{AL:9,AK:3,AZ:6,AR:6,CA:45,CO:7,CT:8,DE:3,FL:17,GA:12,HI:4,ID:4,IL:26,IN:13,IA:8,KS:7,KY:9,LA:10,ME:4,"ME-AL":2,"ME-D1":1,"ME-D2":1,MD:10,MA:14,MI:21,MN:10,MS:7,MO:12,MT:4,NE:5,NV:3,NH:4,NJ:17,NM:4,NY:41,NC:13,ND:3,OH:25,OK:8,OR:6,PA:27,RI:4,SC:8,SD:4,TN:10,TX:26,UT:4,VT:3,VA:11,WA:9,WV:6,WI:11,WY:3,DC:3},usa_pre_civilwar_ec:{AL:9,AK:0,AZ:0,AR:4,CA:4,CO:0,CT:6,DE:3,FL:3,GA:10,HI:0,ID:0,IL:11,IN:13,IA:4,KS:0,KY:12,LA:6,ME:8,MD:8,MA:13,MI:6,MN:4,MS:7,MO:9,MT:0,NE:0,NV:0,NH:5,NJ:7,NM:0,NY:35,NC:10,ND:0,OH:23,OK:0,OR:3,PA:27,RI:4,SC:8,SD:0,TN:12,TX:4,UT:0,VT:5,VA:15,WA:0,WI:5,WY:0,DC:0},usa_no_districts_ec:{AL:9,AK:3,AZ:11,AR:6,CA:55,CO:9,CT:7,DE:3,FL:29,GA:16,HI:4,ID:4,IL:20,IN:11,IA:6,KS:6,KY:8,LA:8,ME:4,MD:10,MA:11,MI:16,MN:10,MS:6,MO:10,MT:3,NE:5,NV:6,NH:4,NJ:14,NM:5,NY:29,NC:15,ND:3,OH:18,OK:7,OR:7,PA:20,RI:4,SC:9,SD:3,TN:11,TX:38,UT:6,VT:3,VA:13,WA:12,WV:5,WI:10,WY:3,DC:3},lte_ec:{NE:11,SE:9,MW:8,WE:6,SW:5,OV:7},dem_primary:{AL:52,AK:15,AS:6,AZ:67,AR:31,CA:415,CO:67,CT:60,DE:21,DA:13,DC:20,FL:219,GA:105,GU:7,HI:24,ID:20,IL:155,IN:82,IA:41,KS:39,KY:54,LA:54,ME:24,MD:96,MA:91,MI:125,MN:75,MS:36,MO:68,MT:19,NE:29,NV:36,NH:24,NJ:126,NM:34,NY:274,NC:110,ND:14,NI:6,OH:136,OK:37,OR:61,PA:186,PR:51,RI:26,SC:54,SD:16,SU:771,TN:64,TX:228,UT:29,VT:16,VI:7,VA:99,WA:89,WV:28,WI:84,WY:14},rep_primary:{AL:50,AK:28,AS:9,AZ:57,AR:40,CA:172,CO:37,CT:28,DE:16,DC:19,FL:122,GA:76,GU:9,HI:19,ID:32,IL:67,IN:70,IA:40,KS:39,KY:46,LA:46,ME:22,MD:38,MA:41,MI:73,MN:39,MS:39,MO:54,MT:27,NE:36,NV:25,NH:22,NJ:49,NM:22,NY:95,NC:71,ND:29,NI:9,OH:82,OK:43,OR:28,PA:88,PR:23,RI:19,SC:50,SD:29,TN:58,TX:155,UT:40,VT:17,VI:9,VA:49,WA:44,WV:34,WI:52,WY:29},eu_parliament:{"IE-S":5,"IE-N":4,"IE-D":4,"BE-D":12,"BE-F":8,"BE-G":1,FR:79,ES:59,PT:21,IT:76,MT:6,CY:6,GR:21,BG:17,RO:33,HR:12,HU:21,SL:8,AT:19,SK:14,CZ:21,PO:52,LI:11,LV:8,EE:7,FI:14,SE:21,DK:14,NL:29,LU:6,DE:96},to_short_hand:{Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"}};class SimulatorData{}function enableFullscreen(){var e=document.documentElement;"undefined"!=typeof(rfs=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen)&&rfs.call(e)}function displayCandidateEditMenu(e){LogoManager.loadFlags(),LogoManager.loadButtons(),closeAllPopups(),document.getElementById("candidateedit").style.display="flex",document.getElementById("candidate-name").value=e;const a=document.getElementById("editcandidate-colors");for(;a.firstChild;)a.removeChild(a.firstChild);for(const n of CandidateManager.candidates[e].colors){const d=document.createElement("input");d.classList.add("editcandidate-color"),d.type="color",d.value=n,a.appendChild(d)}var t=document.getElementById("candidate-originalName");document.getElementById("candidateedit-message").innerHTML="Edit "+e,t.value=e}function displayUpdateServiceWorker(){document.getElementById("notification-update-serviceworker").style.display="inline"}function displayNotification(e,a){LogoManager.loadFlags(),LogoManager.loadButtons();var t=document.getElementById("notification"),n=t.querySelector("#notification-message"),d=t.querySelector("#notification-title");t.style.display="inline",n.innerHTML=a,d.innerHTML=e}function customColorAddColor(){const e=document.createElement("input");e.classList.add("customcolor-color"),e.type="color",document.getElementById("customcolor-colors").appendChild(e)}function customColorAddColor(e){const a=document.createElement("input");a.classList.add("customcolor-color"),a.type="color",a.value=e,document.getElementById("customcolor-colors").appendChild(a)}function customColorRemoveColor(){const e=document.getElementById("customcolor-colors");e.removeChild(e.lastChild)}function customColorRemoveAllColors(){const e=document.getElementById("customcolor-colors");for(;e.firstChild;)e.removeChild(e.lastChild)}function editCandidateAddColor(){const e=document.createElement("input");e.classList.add("editcandidate-color"),e.type="color",document.getElementById("editcandidate-colors").appendChild(e)}function editCandidateRemoveColor(){const e=document.getElementById("editcandidate-colors");e.removeChild(e.lastChild)}function addCandidateAddColor(){const e=document.createElement("input");e.classList.add("addcandidate-color"),e.type="color",document.getElementById("addcandidate-colors").appendChild(e)}function addCandidateRemoveColor(){const e=document.getElementById("addcandidate-colors");e.removeChild(e.lastChild)}function addCandidateRemoveAllColors(){const e=document.getElementById("addcandidate-colors");for(;e.firstChild;)e.removeChild(e.lastChild)}function displayAddCandidateMenu(e){LogoManager.loadFlags(),LogoManager.loadButtons(),closeAllPopups(),CookieManager.loadCustomColors(),addCandidateRemoveAllColors();for(let e=0;e<4;e+=1)addCandidateAddColor();document.getElementById("addcandidatemenu").style.display="flex"}function closeAllPopups(){for(var e=document.getElementsByClassName("popup"),a=0;a<e.length;++a){var t=e[a];t.style&&(t.style.display="none")}document.activeElement.blur()}function displayCustomColorEditor(a){if(LogoManager.loadFlags(),LogoManager.loadButtons(),closeAllPopups(),document.getElementById("custom-color-name").value=a,document.getElementById("customcoloreditor").style.display="flex",customColorRemoveAllColors(),CookieManager.cookies[a+"-0"]){let e=0;for(;CookieManager.cookies[a+"-"+e];)customColorAddColor(CookieManager.cookies[a+"-"+e]),e+=1}else for(let e=0;e<4;e+=1)customColorAddColor()}function setPalette(e,a){switch(a&&CookieManager.appendCookie("theme",e),e){case"dark":darkPalette();break;case"greyscale":greyscalePalette();break;case"terminal":terminalPalette();break;case"contrast":contrastPalette();break;case"metallic":metallicPalette();break;case"halloween":halloweenPalette();break;case"white":toWinPalette();break;case"usaelection":usaElectionPalette();break;default:lightPalette()}for(var t=0,n=states.length;t<n;++t)states[t].verifyTossupColor()}function darkPalette(){setBackgroundColor("#181922"),setOtherText("white"),setDisableColor("#212326"),setTossupColor("#6b6e73"),setMapStyle("#181922",1.5),setTextStyle("white","bold"),setChartBorderStyle(1,"#2b2e33"),setChartBarColor("#2b2e33"),setChartBarShadow(""),setClickButtonColor("#2b2e33"),setClickButtonColor("#2B2E33"),setClickButtonTextColor("#FFFFFF"),setMenuColor("#000000"),setSideBarColor("#2b2e33"),setSideBarTextStyle("#ffffff"),setBorderStyle("#000000",7),ChartManager.chartOptions.plugins.datalabels.borderWidth=2,ChartManager.chartOptions.plugins.datalabels.borderRadius=4,ChartManager.chartBarScales.y.ticks.color="#ffffff",ChartManager.chartBarScales.x.ticks.color="#ffffff",ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition),previousPalette=darkPalette}function greyscalePalette(){setBackgroundColor("#252525"),setOtherText("white"),setDisableColor("#212326"),setTossupColor("#888888"),setMapStyle("#181922",1.5),setTextStyle("white","bold"),setChartBorderStyle(1,"#1b1b1b"),setChartBarColor("#454545"),setChartBarShadow(""),setClickButtonColor("#454545"),setClickButtonTextColor("#FFFFFF"),setMenuColor("#101010"),setSideBarColor("#454545"),setSideBarTextStyle("#ffffff"),setBorderStyle("#252525",7),ChartManager.chartOptions.plugins.datalabels.borderWidth=2,ChartManager.chartOptions.plugins.datalabels.borderRadius=4,ChartManager.chartBarScales.y.ticks.color="#ffffff",ChartManager.chartBarScales.x.ticks.color="#ffffff",ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition),previousPalette=darkPalette}function terminalPalette(){setBackgroundColor("#000000"),setOtherText("white"),setDisableColor("#bcc8d9"),setTossupColor("black"),setChartBorderStyle(2,"#ffffff"),setTextStyle("white","bold"),setMapStyle("white",1.5),setChartBarColor("black"),setChartBarShadow(""),setClickButtonColor("#000000"),setClickButtonTextColor("#ffffff"),setMenuColor("#f8f9fa"),setSideBarColor("#f8f9fa"),setSideBarTextStyle("#000000"),setBorderStyle("#ffffff",6),ChartManager.chartOptions.plugins.datalabels.borderWidth=2,ChartManager.chartOptions.plugins.datalabels.borderRadius=4,ChartManager.chartBarScales.y.ticks.color="#ffffff",ChartManager.chartBarScales.x.ticks.color="#ffffff",ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition),previousPalette=terminalPalette}function lightPalette(){setBackgroundColor("#dcdcdc"),setOtherText("black"),setDisableColor("#212326"),setTossupColor("#696969"),setMapStyle("#dcdcdc",1.5),setChartBarColor("#3b3e43"),setChartBarShadow(""),setTextStyle("white","bold"),setChartBorderStyle(1,"#3b3e43"),setClickButtonColor("#3b3e43"),setClickButtonTextColor("white"),setMenuColor("#000000"),setSideBarColor("#dcdcdc"),setSideBarTextStyle("#000000"),setBorderStyle("#000000",6),ChartManager.chartOptions.plugins.datalabels.borderWidth=2,ChartManager.chartOptions.plugins.datalabels.borderRadius=4,ChartManager.chartBarScales.y.ticks.color="#ffffff",ChartManager.chartBarScales.x.ticks.color="#ffffff",ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition),previousPalette=lightPalette}function contrastPalette(){setBackgroundColor("#f8f9fa"),setOtherText("black"),setDisableColor("#212326"),setTossupColor("#36454f"),setMapStyle("#f8f9fa",1.5),setTextStyle("white","bold"),setChartBorderStyle(1,"#fafafa"),setChartBarColor("#fafafa"),setChartBarShadow(""),setClickButtonColor("#fafafa"),setClickButtonTextColor("#000000"),setMenuColor("#222222"),setSideBarColor("#f8f9fa"),setSideBarTextStyle("#000000"),setBorderStyle("#f8f9fa",6),ChartManager.chartOptions.plugins.datalabels.borderWidth=2,ChartManager.chartOptions.plugins.datalabels.borderRadius=4,ChartManager.chartBarScales.y.ticks.color="#000000",ChartManager.chartBarScales.x.ticks.color="#000000",ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition),previousPalette=contrastPalette}function metallicPalette(){setBackgroundImage("linear-gradient(#696969, #33353b)"),setOtherText("white"),setDisableColor("#212326"),setTossupColor("#808080"),setMapStyle("black",1.5),setTextStyle("white","bold"),setChartBorderStyle(1,"#33353b"),setChartBarColor("#33353b"),setChartBarShadow(""),setClickButtonColor("#33353b"),setClickButtonTextColor("#FFFFFF"),setMenuColor("black"),setSideBarColor("#33353b"),setSideBarTextStyle("#ffffff"),setBorderStyle("#000000",6),ChartManager.chartOptions.plugins.datalabels.borderWidth=2,ChartManager.chartOptions.plugins.datalabels.borderRadius=4,ChartManager.chartBarScales.y.ticks.color="#ffffff",ChartManager.chartBarScales.x.ticks.color="#ffffff",ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition),previousPalette=metallicPalette}function usaElectionPalette(){setBackgroundImage('url("./res/images/usa_flag.jpeg")',"cover"),setOtherText("black"),setDisableColor("#212326"),setTossupColor("#888888"),setMapStyle("#232323",1.8),setChartBarColor("#454545"),setChartBarColor("#000000"),setChartBarShadow(""),setChartBarShadow("0px -5px 5px 2px #060606"),setTextStyle("white","bold"),setChartBorderStyle(1,"#000000"),setClickButtonColor("#555555"),setClickButtonTextColor("#FFFFFF"),setMenuColor("#101010"),setSideBarColor("#aaaaaa"),setSideBarTextStyle("#000000"),setBorderStyle("#454545",6),ChartManager.chartOptions.plugins.datalabels.borderWidth=2,ChartManager.chartOptions.plugins.datalabels.borderRadius=4,ChartManager.chartBarScales.y.ticks.color="#ffffff",ChartManager.chartBarScales.x.ticks.color="#ffffff",ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition),previousPalette=usaElectionPalette}function halloweenPalette(){setBackgroundImage('url("./res/images/halloween.jpg")'),setOtherText("#ffffff"),setDisableColor("#dddddd"),setTossupColor("#928e85"),setMapStyle("#000000",1.25),setTextStyle("white","bold"),setChartBorderStyle(1,"#000000"),setChartBarColor("#060606"),setChartBarShadow("0px -5px 5px 2px #060606"),setSideBarColor("#9c9b98"),setSideBarTextStyle("#000000"),setClickButtonColor("#060606"),setClickButtonTextColor("#ffffff"),setMenuColor("#928e85"),setBorderStyle("#ffffff",6),ChartManager.chartOptions.plugins.datalabels.borderWidth=0,ChartManager.chartOptions.plugins.datalabels.borderRadius=2,ChartManager.chartBarScales.y.ticks.color="#ffffff",ChartManager.chartBarScales.x.ticks.color="#ffffff",ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition),previousPalette=halloweenPalette}function toWinPalette(){setBackgroundColor("#f8f9fa"),setOtherText("black"),setDisableColor("#dddddd"),setTossupColor("#9E8767"),setMapStyle("#fffbf2",1),setTextStyle("white","bold"),setChartBorderStyle(1,"#fafafa"),setChartBarColor("#fafafa"),setChartBarShadow(""),setClickButtonColor("#fafafa"),setClickButtonTextColor("#000000"),setMenuColor("#000000"),setSideBarColor("#f8f9fa"),setSideBarTextStyle("#000000"),setBorderStyle("#f8f9fa",6),ChartManager.chartOptions.plugins.datalabels.borderWidth=0,ChartManager.chartOptions.plugins.datalabels.borderRadius=2,ChartManager.chartBarScales.y.ticks.color="#000000",ChartManager.chartBarScales.x.ticks.color="#000000",ChartManager.setChart(ChartManager.chartType,ChartManager.chartPosition),previousPalette=toWinPalette}function setOtherText(e){var a=document.getElementById("othertext");a&&a.setAttribute("fill",e)}function setBackgroundImage(e,a){var t=document.getElementById("application");t.style.backgroundColor="",t.style.backgroundImage=e,t.style.backgroundSize=a||"auto"}function setBackgroundColor(e){var a=document.getElementById("application");a.style.background=e,a.style.backgroundImage=""}function setChartBorderStyle(e,a){ChartManager.chartBorderWidth=e,ChartManager.chartBorderColor=a,document.getElementById("battlechartright").style.border="1px solid "+a,ChartManager.updateChart(),document.getElementById("legend-div").style.borderColor=a}function setMenuColor(e){document.getElementById("menu-div").style.backgroundColor=e;for(var a=document.getElementsByClassName("click-button"),t=0;t<a.length;++t)a[t].style.borderColor=e}function setMenuImage(e){var a=document.getElementById("menu-div");a.style.backgroundImage=e,a.style.backgroundSize="contain"}function setClickButtonTextColor(e){for(var a=document.getElementsByClassName("click-button"),t=0;t<a.length;++t)a[t].style.color=e}function setClickButtonColor(e){for(var a=document.getElementsByClassName("click-button"),t=0;t<a.length;++t)a[t].style.backgroundColor=e}function setDisableColor(e){CandidateManager.TOSSUP.colors[1]=e}function setTossupColor(e){CandidateManager.TOSSUP.colors[2]=e;document.getElementById("Tossup-text").style.backgroundColor=e;var a=document.getElementById("addcandidate-button-text");a&&(a.style.backgroundColor=e)}function setMapStyle(e,a){var t=document.getElementById("outlines"),t=(t.style.stroke=e,t.style.strokeWidth=a*strokeMultiplier,document.getElementById("proportional")),t=(t&&(t.style.stroke=e,t.style.strokeWidth=a*strokeMultiplier),document.getElementById("special"));null!=t&&(t.style.stroke=e,t.style.strokeWidth=a*strokeMultiplier)}function setBorderStyle(e,a){var t=document.getElementById("*lines*");null!==t&&(t.style.stroke=e,t.style.strokeWidth=a*strokeMultiplier)}function setSideBarColor(e){var a=document.getElementById("sidebar");a&&(a.style.background=e)}function setSideBarTextStyle(e){var a=document.getElementById("sidebar");a&&(a.style.color=e)}function setSideBarSocialOutline(e,a){var t=document.getElementById("sidebar");if(t)for(var n=t.querySelectorAll(".sidebar-button"),d=0;d<n.length;++d){var r=n[d];r.style.borderColor=e,r.style.borderWidth=a}}function setChartBarColor(e){document.getElementById("chart-div").style.background=e}function setChartBarShadow(e){document.getElementById("chart-div").style.boxShadow=e}function setTextStyle(e,a){var t=document.getElementById("text");if(null!==t)for(var n in t.style.strokeWidth=0,t.style.fontWeight=a,t.style.fill=e,t.style.textAlign="center",t.children){n=t.children[n];try{n.setAttribute("text-anchor","middle"),n.setAttribute("alignment-baseline","central")}catch(e){}}var d=document.getElementById("battlechart"),d=(d.style.color=e,d.style.fontWeight=a,document.getElementById("legend-div"));d.style.color=e,d.style.weight=a}function setBattleHorizontal(){document.getElementById("application").style.flexDirection="column-reverse";document.getElementById("map-div").style.height="85%";var e=document.getElementById("chart-div"),e=(e.style.flexDirection="row",e.style.width="100%",e.style.height="15%",document.getElementById("battlechart"));e.style.flexDirection="column",e.style.height="75%",e.style.margin="5%";document.getElementById("battlechartmidpoly").setAttribute("transform","translate(20 0) rotate(90)");e=document.getElementById("battlechartmid"),e.style.height="100%",e.style.width="",e=document.getElementById("battlechartright"),e.style.flexDirection="row",e.style.height="80%",e.style.width="100%",e=document.getElementById("battlechartleft"),e.style.height="20px",e.style.width="20px",e=document.getElementById("bar-1"),e.style.borderRight=e.style.borderBottom,e.style.borderBottom="",e.style.flexDirection="row",e.style.minWidth="0",e=document.getElementById("bar-2");e.style.borderLeft=e.style.borderTop,e.style.borderTop="",e.style.flexDirection="row",e.style.minWidth="0"}function unsetBattleHorizontal(){document.getElementById("application").style.flexDirection="row";document.getElementById("map-div").style.height="100%";var e=document.getElementById("chart-div"),e=(e.style.flexDirection="column",e.style.width="28vw",e.style.height="100%",document.getElementById("battlechart"));e.style.flexDirection="row",e.style.height="100%",e.style.margin="5%",mobile?e.style.width="100%":e.style.width="50%";document.getElementById("battlechartmidpoly").setAttribute("transform","translate(0 0) rotate(0)");e=document.getElementById("battlechartmid");e.style.height="",e.style.width="100%";(e=document.getElementById("battlechartright")).style.flexDirection="column",e.style.width="85%",e.style.height="100%";e=document.getElementById("battlechartleft"),battlechartleft.style.height="20px",battlechartleft.style.width="20px",e=document.getElementById("bar-1"),e.style.borderBottom=e.style.borderRight,e.style.borderRight="",e.style.flexDirection="column",e.style.minWidth="0",e=document.getElementById("bar-2");e.style.borderTop=e.style.borderLeft,e.style.borderLeft="",e.style.flexDirection="column",e.style.minWidth="0"}function toggleYAPNews(){var e=document.getElementById("sidebar");null!==e&&("none"===e.style.display?(e.style.display="inline-flex",gtag("event",currentCache,{event_category:"Sidebar",event_label:"Toggle On"})):(e.style.display="none",gtag("event",currentCache,{event_category:"Sidebar",event_label:"Toggle Off"})),MapManager.centerMap())}function ifInIframe(){if(window.location!==window.parent.location){for(var e=document.getElementById("sidebar"),a=(e&&(e.style.display="none"),(e=document.getElementById("menu-div"))&&(e.style.display="none"),(e=document.getElementById("yapms-watermark"))&&(e.style.display="flex"),document.getElementsByClassName("adslot_mobile")),t=0;t<a.length;++t)(e=a[t]).style.display="none";setPalette("light",!1)}}function showShortcuts(){var e;"./res/usa/county/usa_county.svg"!==MapLoader.save_filename&&"./res/usa/house/12-2-2019-house.svg"!==MapLoader.save_filename||(e=document.getElementById("county-house-d"))&&(e.style.display="")}SimulatorData.USA_2020_Cook={AK:{Republican:100,Democrat:0},AL:{Republican:100,Democrat:0},AR:{Republican:100,Democrat:0},AZ:{Republican:50,Democrat:50},CA:{Republican:0,Democrat:100},CO:{Republican:20,Democrat:80},CT:{Republican:0,Democrat:100},DE:{Republican:0,Democrat:100},FL:{Republican:50,Democrat:50},GA:{Republican:70,Democrat:30},HI:{Republican:0,Democrat:100},IA:{Republican:70,Democrat:30},ID:{Republican:100,Democrat:0},IL:{Republican:0,Democrat:100},IN:{Republican:100,Democrat:0},KS:{Republican:100,Democrat:0},KY:{Republican:100,Democrat:0},LA:{Republican:100,Democrat:0},"ME-AL":{Republican:30,Democrat:70},"ME-D1":{Republican:0,Democrat:100},"ME-D2":{Republican:70,Democrat:20},MI:{Republican:50,Democrat:50},MD:{Republican:0,Democrat:100},MA:{Republican:0,Democrat:100},MN:{Republican:30,Democrat:70},MS:{Republican:100,Democrat:0},MO:{Republican:100,Democrat:0},MT:{Republican:100,Democrat:0},"NE-AL":{Republican:100,Democrat:0},"NE-D1":{Republican:100,Democrat:0},"NE-D2":{Republican:70,Democrat:30},"NE-D3":{Republican:100,Democrat:0},NV:{Republican:30,Democrat:70},NH:{Republican:30,Democrat:70},NJ:{Republican:0,Democrat:100},NM:{Republican:0,Democrat:100},NY:{Republican:0,Democrat:100},NC:{Republican:70,Democrat:30},ND:{Republican:100,Democrat:0},OH:{Republican:80,Democrat:20},OK:{Republican:100,Democrat:0},OR:{Republican:0,Democrat:100},PA:{Republican:50,Democrat:50},RI:{Republican:0,Democrat:100},SC:{Republican:100,Democrat:0},SD:{Republican:100,Democrat:0},TN:{Republican:100,Democrat:0},TX:{Republican:80,Democrat:20},UT:{Republican:100,Democrat:0},VT:{Republican:0,Democrat:100},VA:{Republican:20,Democrat:80},WA:{Republican:0,Democrat:100},WI:{Republican:50,Democrat:50},WV:{Republican:100,Democrat:0},WY:{Republican:100,Democrat:0},DC:{Republican:0,Democrat:100}},document.getElementById("yapnews")&&document.getElementById("yapnews").addEventListener("transitionend",function(){MapManager.centerMap()});class Simulator{static init(){if(!mobile){document.getElementById("simulator-noclick").addEventListener("change",function(e){Simulator.ignoreClick=e.target.checked});for(var e=document.getElementById("sidebar-presets-select-simulator"),a=(e.addEventListener("change",function(e){switch(this.value){case"cook":Simulator.cookPresidentialPreset();break;case"random":Simulator.randomPreset();break;case"uniform":Simulator.uniformPreset()}}),document.getElementById("sidebar-presets-select-simulator"));a.firstChild;)a.removeChild(a.firstChild);var t=document.createElement("option");t.text="Custom",t.value="custom",t.selected=!0,t.disabled=!0,t.hidden=!0,e.appendChild(t),(t=document.createElement("option")).text="Uniform",t.value="uniform",e.appendChild(t),(t=document.createElement("option")).text="Random",t.value="random",e.appendChild(t),"USA_2020_presidential"===php_load_map_id?((t=document.createElement("option")).text="Cook",t.value="cook",e.appendChild(t),!1===php_load_map&&Simulator.cookPresidentialPreset()):!1===php_load_map&&Simulator.uniformPreset(),void 0===states[0].simulator&&Simulator.uniformPreset()}}static uniformPreset(){if(!mobile){console.log("Simulator: Uniform preset"),document.getElementById("sidebar-presets-select-simulator").value="uniform";for(var e=0;e<states.length;++e)for(t in(a=states[e]).simulator={},CandidateManager.candidates)"Tossup"!==t&&(a.simulator[t]=0);for(var a,t,e=0;e<proportionalStates.length;++e)for(t in(a=proportionalStates[e]).simulator={},CandidateManager.candidates)"Tossup"!==t&&(a.simulator[t]=0);Simulator.state&&Simulator.view(Simulator.state)}}static randomPreset(){if(!mobile){console.log("Simulator: Random preset"),document.getElementById("sidebar-presets-select-simulator").value="random";for(var e=0;e<states.length;++e)for(t in(a=states[e]).simulator={},CandidateManager.candidates)"Tossup"!==t&&(a.simulator[t]=100*Math.random());for(var a,t,e=0;e<proportionalStates.length;++e)for(t in(a=proportionalStates[e]).simulator={},CandidateManager.candidates)"Tossup"!==t&&(a.simulator[t]=100*Math.random());Simulator.state&&Simulator.view(Simulator.state)}}static cookPresidentialPreset(){if(!mobile){console.log("Simulator: Cook preset"),document.getElementById("sidebar-presets-select-simulator").value="cook",CandidateManager.addCandidate("Republican","#bf1d29","#ff5865","#ff8b98","#cf8980"),CandidateManager.addCandidate("Democrat","#1c408c","#577ccc","#8aafff","#949bb3"),countVotes(),ChartManager.updateChart();for(var e=0;e<states.length;++e){var a,t=states[e];for(a in t.simulator={},CandidateManager.candidates)"Republican"!==a&&"Democrat"!==a||(t.simulator[a]=SimulatorData.USA_2020_Cook[t.name][a])}Simulator.state&&Simulator.view(Simulator.state)}}static toggle(){var e,a,t,n,d;mobile||(Simulator.enabled=!Simulator.enabled,e=document.getElementById("sidebar-state-simulator"),a=document.getElementById("sidebar-run-simulator"),t=document.getElementById("sidebar-simulator-head"),n=document.getElementById("sidebar-settings-simulator"),d=document.getElementById("sidebar-presets-simulator"),Simulator.enabled?(e.style.display="block",a.style.display="block",n.style.display="block",d.style.display="block",t.innerHTML="Disable Simulator",Simulator.init(),gtag("event",currentCache,{event_category:"Simulator",event_label:"Simulator Enabled"})):(e.style.display="none",a.style.display="none",n.style.display="none",d.style.display="none",t.innerHTML="Enable Simulator",gtag("event",currentCache,{event_category:"Simulator",event_label:"Simulator Disabled"})))}static view(e){if(!mobile&&Simulator.enabled){Simulator.state=e;for(var a,t=document.getElementById("simulator-ranges");t.firstChild;)t.removeChild(t.firstChild);for(a in CandidateManager.candidates)if("Tossup"!==a){var n,d=0;for(n in e.simulator)d+=e.simulator[n];var r=100,o=(0!==d&&(r=(e.simulator[a]/d*100).toFixed(2)),document.createElement("DIV")),r=(o.setAttribute("id","simulator-display-"+a),o.innerHTML=a+" - "+r+"%",document.createElement("INPUT"));r.setAttribute("id","simulator-range-"+a),r.setAttribute("type","range"),r.setAttribute("max",100),r.setAttribute("min",0),r.setAttribute("step",1),r.value=e.simulator[a],r.oninput=function(){var r=e,o=a;return function(){var e,a,t,n=parseInt(this.value),d=(r.simulator[o]=n,0);for(e in CandidateManager.candidates)"Tossup"!==e&&(d+=r.simulator[e]);for(e in CandidateManager.candidates)"Tossup"!==e&&(a=document.getElementById("simulator-display-"+e),t=100,0!==d&&(t=(r.simulator[e]/d*100).toFixed(2)),a.innerHTML=e+" - "+t+"%")}}(),t.appendChild(o),t.appendChild(r)}var s=document.getElementById("simulator-state-title");e.name.match(/(Geometry|path([0-9]+)|g([0-9]+))/g)?s.innerHTML=e.fakename:s.innerHTML=e.name.replace(/_/g," ")}}static run(){mobile||0===Simulator.runState&&(Simulator.runState=2,MapLoader.clearMapCandidates(),Simulator.runTimeout=5e3/states.length,Simulator.runLoop(states,0,"proportional"===MapLoader.save_type||"primary"===MapLoader.save_type),Simulator.runLoop(proportionalStates,0,!0))}static runLoop(o,s,i){0!==o.length?setTimeout(function(){var e,a=o[s],t=[],n=0;for(e in a.simulator)n+=a.simulator[e],t.push({name:e,power:a.simulator[e]});for(var d=0;d<t.length;++d){var r=1/t.length;0!==n&&(r=t[d].power/n),0!==d&&(r+=t[d-1].percent),t[d].percent=r}for(i?Simulator.runProportionalState(a,t):Simulator.runTakeAllState(a,t),s+=1;s<o.length&&o[s].disabled;)s+=1;s<o.length?Simulator.runLoop(o,s,i):Simulator.runLoopFinish(o)},Simulator.runTimeout):--Simulator.runState}static runTakeAllState(e,a){for(var t=Math.random(),n=0;n<a.length;++n){var d=a[n].percent,r=a[n].name;if(t<=d){e.setColor(r,0),countVotes(),ChartManager.updateChart(),LegendManager.updateLegend();break}}}static runProportionalState(e,a){for(var t=e.voteCount,n=0;n<t;++n)for(var d=Math.random(),r=0;r<a.length;++r)if(d<=a[r].percent){var o=a[r].name;e.delegates[o]?e.delegates[o]+=1:e.delegates[o]=1,--e.delegates.Tossup;break}for(var s=0,r=1;r<a.length;++r){var i=a[r].name,l=a[s].name;e.delegates[i]>e.delegates[l]&&(s=r)}e.setColor(a[s].name,0,{setDelegates:!1}),countVotes(),LegendManager.updateLegend(),ChartManager.updateChart()}static runLoopFinish(e){var a,t,n;--Simulator.runState,"usa_ec"===MapLoader.save_dataid&&(t=e.find(e=>"ME-D1"===e.name),a=e.find(e=>"ME-D2"===e.name),t.candidate===a.candidate&&e.find(e=>"ME-AL"===e.name).setColor(t.candidate,0),a=e.find(e=>"NE-D1"===e.name),t=e.find(e=>"NE-D2"===e.name),n=e.find(e=>"NE-D3"===e.name),a.candidate===t.candidate&&t.candidate===n.candidate&&e.find(e=>"NE-AL"===e.name).setColor(a.candidate,0))}}Simulator.enabled=!1,Simulator.runState=0,Simulator.runTimeout=100,Simulator.ignoreClick=!1,Simulator.state=null;class SaveMap{static log(){var e,a={};for(d in a.filename=MapLoader.save_filename,a.dataid=MapLoader.save_dataid,a.type=MapLoader.save_type,a.year=MapLoader.save_year,a.fontsize=MapLoader.save_fontsize,a.strokewidth=MapLoader.save_strokewidth,a.candidates={},a.states={},a.proportional={},CandidateManager.candidates)"Tossup"!==d&&(e=CandidateManager.candidates[d],a.candidates[e.name]={},a.candidates[e.name].solid=e.colors[0],a.candidates[e.name].likely=e.colors[1],a.candidates[e.name].lean=e.colors[2],a.candidates[e.name].tilt=e.colors[3],a.candidates[e.name]=e.colors);for(var t=0;t<states.length;++t){for(d in(n=states[t]).delegates)0===n.delegates[d]&&delete n.delegates[d];a.states[n.name]={},a.states[n.name].delegates=n.delegates,a.states[n.name].colorvalue=n.colorValue,a.states[n.name].disabled=n.disabled}for(var n,d,t=0;t<proportionalStates.length;++t){for(d in(n=proportionalStates[t]).delegates)0===n.delegates[d]&&delete n.delegates[d];a.proportional[n.name]={},a.proportional[n.name].delegates=n.delegates,a.proportional[n.name].colorvalue=n.colorValue,a.proportional[n.name].disabled=n.disabled}console.log(JSON.stringify(a))}static upload(e,a){console.log("token: "+a);var t,n=new FormData,d=(n.append("captcha",a),n.append("img",e),{});for(s in d.filename=MapLoader.save_filename,d.dataid=MapLoader.save_dataid,d.type=MapLoader.save_type,d.year=MapLoader.save_year,d.fontsize=MapLoader.save_fontsize,d.strokewidth=MapLoader.save_strokewidth,d.candidates={},d.states={},d.proportional={},CandidateManager.candidates)"Tossup"!==s&&(t=CandidateManager.candidates[s],d.candidates[t.name]={},d.candidates[t.name]=t.colors);for(var r=0;r<states.length;++r){for(s in(o=states[r]).delegates)0===o.delegates[s]&&delete o.delegates[s];d.states[o.name]={},d.states[o.name].delegates=o.delegates,d.states[o.name].colorvalue=o.colorValue,d.states[o.name].disabled=o.disabled}for(var o,s,r=0;r<proportionalStates.length;++r){for(s in(o=proportionalStates[r]).delegates)0===o.delegates[s]&&delete o.delegates[s];d.proportional[o.name]={},d.proportional[o.name].delegates=o.delegates,d.proportional[o.name].colorvalue=o.colorValue,d.proportional[o.name].disabled=o.disabled}n.append("data",JSON.stringify(d)),fetch("./api/maps/upload.php",{method:"POST",body:n}).then(e=>e.text()).then(e=>{var a=(e=e.split(" "))[0],e=e[1],t=document.getElementById("shareurl"),t=("reCaptcha_Failed(restart_web_browser)"===a?(t.setAttribute("href",a),t.innerHTML="reCaptcha Failed: possible solution is to restart your web-browser"):"reCaptcha_Bot_Detected"===a?(t.setAttribute("href",a),t.innerHTML="reCaptcha Failed: suspicious activity detected"):(t.setAttribute("href",a),t.innerHTML=a),t.style.display="",document.getElementById("sharebuttons")),t=(t&&(t.style.display="flex"),document.getElementById("downloadbutton")),t=(t&&(mobile?t.style.display="none":(t.style.display="",t.setAttribute("href","https://yapms.org/downloadmap.php?f="+e))),document.getElementById("loading-animation")),e=(t&&(t.style.display="none"),document.getElementById("screenshotimg")),t=(e&&(e.style.display=""),document.getElementById("facebook-share")),e=(t&&(t.setAttribute("href","https://www.facebook.com/sharer.php?u="+a),t.setAttribute("target","_blank")),document.getElementById("twitter-share")),t=(e&&(e.setAttribute("href","https://twitter.com/intent/tweet?text="+a),e.setAttribute("target","_blank")),document.getElementById("reddit-share"));t&&(t.setAttribute("href","https://www.reddit.com/submit?title=My%20YAPms%20Map&url="+a),t.setAttribute("target","_blank")),gtag("event",currentCache,{event_category:"Map Save",event_label:"Map save succeeded"})}).catch(e=>{console.log(e);e=document.getElementById("share-button");e&&e.setAttribute("onclick","share()"),gtag("event",currentCache,{event_category:"Map Save",event_label:"Map save failed"})})}}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function displayVersionInfo(){document.getElementById("versioninfo-text").innerHTML=currentCache}function displayShareMenu(){var e=document.getElementById("sharebuttons"),e=(e&&(e.style.display="none"),document.getElementById("shareurl")),e=(e&&(e.style.display="none",e.innerHTML=""),document.getElementById("screenshotimg")),e=(e&&(e.style.display="none"),document.getElementById("loading-animation"));e&&(e.style.display="")}function displayMenu(e){switch(LogoManager.loadFlags(),LogoManager.loadButtons(),closeAllPopups(),document.getElementById(e).style.display="flex",e){case"versionmenu":displayVersionInfo();break;case"sharemenu":displayShareMenu()}}function hideMenu(e){closeAllPopups(),document.getElementById(e).style.display="none"}const currentCache="v5.1.5";let states=[],lands=[],buttons=[],proportionalStates=[],paintIndex="Tossup",mode="paint",mapOptions={},strokeMultiplier=1,previousPalette=function(){toWinPalette()};function share(e){if(closeAllPopups(),"undefined"==typeof grecaptcha)return console.log("reCaptcha not detected"),void CookieManager.askConsent();console.log("reCaptcha detected"),displayMenu("sharemenu"),e?(MapManager.centerMap(),setTimeout(share_afterCenter,200)):share_afterCenter()}function share_afterCenter(){const e=document.getElementById("share-button");e&&(e.disabled=!0,e.style.opacity="0.5",setTimeout(function(){e.disabled=!1,e.style.opacity="1"},3e3));var a=document.getElementById("application");domtoimage.toPng(a,{width:a.offsetWidth,height:a.offsetHeight}).then(function(a){const e=document.getElementById("screenshotimg"),t=(e.src=a,e.style.width="40vw",e.style.height="auto",e.style.display="",document.getElementById("loading-animation"));t.style.display="none",grecaptcha&&grecaptcha.execute("6LeDYbEUAAAAANfuJ4FxWVjoxPgDPsFGsdTLr1Jo",{action:"share"}).then(function(e){SaveMap.upload(a,e)})}).catch(function(e){console.log("dom-to-image: ",e)})}function setMode(e){LogoManager.loadButtons(),mode=e;document.getElementById("modesbutton");for(var a,t=document.getElementsByClassName("mode-button"),n=0;n<t.length;++n)(a=t[n])&&(a.style.opacity="1");"paint"===e?(a=document.getElementById("modebutton-paint")).style.opacity="0.5":"ec"===e?(a=document.getElementById("modebutton-ec")).style.opacity="0.5":"delete"===e?(a=document.getElementById("modebutton-delete")).style.opacity="0.5":"fill"===e?(a=document.getElementById("modebutton-fill")).style.opacity="0.5":"highlight"===e&&((a=document.getElementById("modebutton-highlight")).style.opacity="0.5")}function verifyPaintIndex(){void 0===CandidateManager.candidates[paintIndex]&&(paintIndex="Tossup")}function countVotes(){const e=document.getElementById("battlechartmid");for(var a in e&&e.setAttribute("fill",CandidateManager.TOSSUP.colors[2]),CandidateManager.candidates){const t=CandidateManager.candidates[a];t.voteCount=0,t.probVoteCounts=[0,0,0,0];for(const n of states)void 0===n.delegates&&(n.delegates={}),void 0===n.delegates[a]&&(n.delegates[a]=0),t.voteCount+=n.delegates[a],"Tossup"===n.candidate&&"Tossup"!==a?t.probVoteCounts[0]+=n.delegates[a]:t.probVoteCounts[n.colorValue]?t.probVoteCounts[n.colorValue]+=n.delegates[a]:t.probVoteCounts[n.colorValue]=n.delegates[a];for(const d of proportionalStates)void 0===d.delegates&&(d.delegates={}),void 0===d.delegates[a]&&(d.delegates[a]=0,"Tossup"===a&&(d.delegates[a]=d.voteCount)),t.voteCount+=d.delegates[a],"Tossup"===d.candidate&&"Tossup"!==a?t.probVoteCounts[0]+=d.delegates[a]:t.probVoteCounts[d.colorValue]+=d.delegates[a];e&&t.voteCount>Math.ceil(totalVotes/2)&&("Tossup"===a?e.setAttribute("fill",t.colors[2]):e.setAttribute("fill",t.colors[0]))}}function onResize(){var e,a;MapManager.centerMap(),"bottom"===ChartManager.chartPosition?(e=document.getElementById("chart-div"),(a=document.getElementById("chart")).style.height="auto",a.style.width=e.offsetHeight-5+"px"):(e=document.getElementById("chart-div"),(a=document.getElementById("chart")).style.height="auto",a.style.width="100%")}function setChangeCandidate(e,a){for(var t=0,n=states.length;t<n;++t){var d=states[t];d.candidate===e&&d.setColor(a,d.colorValue,{updateDelegates:!1}),d.delegates[a]=d.delegates[e],d.delegates[e]=void 0}}function forceUpdate(){"serviceWorker"in navigator&&navigator.serviceWorker.register("../sw.js").then(function(e){e.waiting&&(e.waiting.postMessage("skipwaiting"),gtag("event",currentCache,{event_category:"Manual Update",event_label:"Manual update from "+currentCache,non_interaction:!0}),setTimeout(function(){location.reload()},150))})}function updateArticles(){fetch("./api/news/get_news.php").then(e=>e.json()).then(e=>{const a=document.getElementById("yapnews-articles");for(const t of e){const n=document.createElement("div"),d=(n.setAttribute("class","yapnews-article"),document.createElement("a")),r=(d.setAttribute("class","yapnews-article-title"),d.setAttribute("href",t.source),d.setAttribute("target","_blank"),document.createElement("div")),o=(r.setAttribute("class","yapnews-article-author"),document.createElement("div"));o.setAttribute("class","yapnews-article-snippet"),d.innerHTML=t.title,r.innerHTML=t.author,o.innerHTML=t.snippet,n.appendChild(d),n.appendChild(r),n.appendChild(o),a.appendChild(n)}})}function updateMobile(){const a=document.getElementsByClassName("click-button");for(let e=0;e<a.length;++e)a[e].style.padding="7px";const t=document.getElementsByClassName("mode-button");for(let e=0;e<t.length;++e)t[e].style.paddingLeft="12px",t[e].style.paddingRight="12px";const e=document.getElementById("sidebar-toggle"),n=(e&&(e.style.display="none"),document.getElementById("lockbutton"));n&&(n.style.display="none")}function start(){if(Account.verifyState(),CookieManager.loadCookies(),CookieManager.askConsent(),CandidateManager.initCandidates(),ChartManager.initChart(),ChartManager.setChart("horizontalbattle"),(mobile?updateMobile:updateArticles)(),!0===php_load_map){let e=null;e=!0===php_load_user?"./www-data/users/"+php_load_user_id+"/"+php_load_map_id+".txt.gz":"./www-data/maps/"+php_load_map_id+".txt.gz",MapLoader.loadMapFromURL(e),php_auto_reload&&window.setInterval(function(){MapLoader.loadMapFromURL(e)},3e4+Math.floor(3e4*Math.random()))}else!0===php_load_type_map?MapLoader.loadMapFromId(php_load_map_id):(PresetLoader.loadPreset("classic"),MapLoader.loadMap("./res/usa_presidential.svg",16,1,"usa_ec","presidential","open"));setTimeout(function(){LogoManager.loadButtons()},2500)}window.onerror=function(e,a,t,n,d){e.includes("a[b].target.className.indexOf")||e.includes("Script error.")||gtag("event",currentCache,{event_category:"Error",event_label:e+", "+a+", "+t+", "+currentCache,non_interaction:!0})},start(),"serviceWorker"in navigator?(console.log("Attempting to register service worker"),navigator.serviceWorker.register("../sw.js").then(function(e){console.log("SW: registered"),e.waiting&&(console.log("SW: update found"),(e=document.getElementById("update-button"))&&(e.style.display="inline"))},function(e){console.log("SW: register error ",e)})):console.log("No service worker detected");
